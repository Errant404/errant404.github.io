<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="本文为 Hugo 官方文档中 configuration 部分的翻译，翻译时间为 2023/8/4，此时 Hugo 最新的 Release 版本为 v0.116.1，请注意文档的时效性。 关于配置文件 Hugo 使用 hugo.toml, h"><title>配置你的 Hugo</title>
<link rel=canonical href=https://blog.errant.top/post/configure-your-hugo/><link rel=stylesheet href=/scss/style.min.7be113f931a61e3e11a86363d0cfbd8975601b1cae8b6b11ecd808ea23b00507.css><script>(function(e,t){var s=document,o="script",n=s.createElement(o),i=s.getElementsByTagName(o)[0];n.src=e,t&&n.addEventListener("load",function(e){t(e)}),i.parentNode.insertBefore(n,i)})("//cdn.bootcss.com/pangu/4.0.7/pangu.min.js",function(){pangu.spacingPage()})</script><meta property='og:title' content="配置你的 Hugo"><meta property='og:description' content="本文为 Hugo 官方文档中 configuration 部分的翻译，翻译时间为 2023/8/4，此时 Hugo 最新的 Release 版本为 v0.116.1，请注意文档的时效性。 关于配置文件 Hugo 使用 hugo.toml, h"><meta property='og:url' content='https://blog.errant.top/post/configure-your-hugo/'><meta property='og:site_name' content="Errant's blog"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='博客'><meta property='article:published_time' content='2023-08-04T21:11:59+08:00'><meta property='article:modified_time' content='2023-08-04T21:11:59+08:00'><meta property='og:image' content='https://blog.errant.top/post/configure-your-hugo/hugo-original-wordmark.svg'><meta name=twitter:title content="配置你的 Hugo"><meta name=twitter:description content="本文为 Hugo 官方文档中 configuration 部分的翻译，翻译时间为 2023/8/4，此时 Hugo 最新的 Release 版本为 v0.116.1，请注意文档的时效性。 关于配置文件 Hugo 使用 hugo.toml, h"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://blog.errant.top/post/configure-your-hugo/hugo-original-wordmark.svg'><link rel="shortcut icon" href=/favicon.png><script async src="https://www.googletagmanager.com/gtag/js?id=G-VFSBMX8K6Q"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VFSBMX8K6Q")}</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=https://avatars.githubusercontent.com/u/64823753 width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>🍥</span></figure><div class=site-meta><h1 class=site-name><a href=/>Errant's blog</a></h1><h2 class=site-description>Let there be light.</h2></div></header><ol class=menu-social><li><a href=https://github.com/Errant404 target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://twitter.com/Errant_404 target=_blank title=Twitter rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>主页</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>关于</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>归档</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>搜索</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>友链</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language title=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://blog.errant.top/ selected>中文</option><option value=https://blog.errant.top/en/>English</option></select></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#关于配置文件>关于配置文件</a></li><li><a href=#hugotoml-vs-configtoml>hugo.toml vs config.toml</a></li><li><a href=#配置目录>配置目录</a></li><li><a href=#合并主题配置>合并主题配置</a></li><li><a href=#所有的配置项设置>所有的配置项设置</a><ol><li><a href=#archetypedir>archetypeDir</a></li><li><a href=#assetdir>assetDir</a></li><li><a href=#baseurl>baseURL</a></li><li><a href=#build>build</a></li><li><a href=#builddrafts-false>buildDrafts (false)</a></li><li><a href=#buildexpired>buildExpired</a></li><li><a href=#buildfuture>buildFuture</a></li><li><a href=#caches>caches</a></li><li><a href=#cascade>cascade</a></li><li><a href=#canonifyurls>canonifyURLs</a></li><li><a href=#cleandestinationdir>cleanDestinationDir</a></li><li><a href=#contentdir>contentDir</a></li><li><a href=#copyright>copyright</a></li><li><a href=#datadir>dataDir</a></li><li><a href=#defaultcontentlanguage>defaultContentLanguage</a></li><li><a href=#defaultcontentlanguageinsubdir>defaultContentLanguageInSubdir</a></li><li><a href=#disablealiases>disableAliases</a></li><li><a href=#disablehugogeneratorinject>disableHugoGeneratorInject</a></li><li><a href=#disablekinds>disableKinds</a></li><li><a href=#disablelivereload>disableLiveReload</a></li><li><a href=#disablepathtolower>disablePathToLower</a></li><li><a href=#enableemoji>enableEmoji</a></li><li><a href=#enablegitinfo>enableGitInfo</a></li><li><a href=#enableinlineshortcodes>enableInlineShortcodes</a></li><li><a href=#enablemissingtranslationplaceholders>enableMissingTranslationPlaceholders</a></li><li><a href=#enablerobotstxt>enableRobotsTXT</a></li><li><a href=#frontmatter>frontmatter</a></li><li><a href=#googleanalytics>googleAnalytics</a></li><li><a href=#hascjklanguage>hasCJKLanguage</a></li><li><a href=#imaging>imaging</a></li><li><a href=#languagecode>languageCode</a></li><li><a href=#languages>languages</a></li><li><a href=#disablelanguages>disableLanguages</a></li><li><a href=#markup>markup</a></li><li><a href=#mediatypes>mediaTypes</a></li><li><a href=#menus>menus</a></li><li><a href=#minify>minify</a></li><li><a href=#module>module</a></li><li><a href=#newcontenteditor>newContentEditor</a></li><li><a href=#nochmod>noChmod</a></li><li><a href=#notimes>noTimes</a></li><li><a href=#outputformats>outputFormats</a></li><li><a href=#paginate>paginate</a></li><li><a href=#paginatepath>paginatePath</a></li><li><a href=#permalinks>permalinks</a></li><li><a href=#pluralizelisttitles>pluralizeListTitles</a></li><li><a href=#publishdir>publishDir</a></li><li><a href=#related>related</a></li><li><a href=#relativeurls>relativeURLs</a></li><li><a href=#reflinkserrorlevel>refLinksErrorLevel</a></li><li><a href=#reflinksnotfoundurl>refLinksNotFoundURL</a></li><li><a href=#removepathaccents>removePathAccents</a></li><li><a href=#rsslimit>rssLimit</a></li><li><a href=#sectionpagesmenu>sectionPagesMenu</a></li><li><a href=#security>security</a></li><li><a href=#sitemap>sitemap</a></li><li><a href=#summarylength>summaryLength</a></li><li><a href=#taxonomies>taxonomies</a></li><li><a href=#theme>theme</a></li><li><a href=#themesdir>themesDir</a></li><li><a href=#timeout>timeout</a></li><li><a href=#timezone>timeZone</a></li><li><a href=#title>title</a></li><li><a href=#titlecasestyle>titleCaseStyle</a></li><li><a href=#uglyurls>uglyURLs</a></li><li><a href=#watch>watch</a></li></ol></li><li><a href=#配置构建>配置构建</a><ol><li><a href=#buildstats>buildStats</a></li><li><a href=#cachebusters>cachebusters</a></li><li><a href=#nojsconfiginassets>noJSConfigInAssets</a></li><li><a href=#useresourcecachewhen>useResourceCacheWhen</a></li></ol></li><li><a href=#配置缓存破坏>配置缓存破坏</a><ol><li><a href=#source>source</a></li><li><a href=#target>target</a></li></ol></li><li><a href=#配置服务器>配置服务器</a></li><li><a href=#404-服务器错误页面>404 服务器错误页面</a></li><li><a href=#配置标题大小写>配置标题大小写</a></li><li><a href=#配置环境变量>配置环境变量</a><ol><li><a href=#hugo_numworkermultiplier>HUGO_NUMWORKERMULTIPLIER</a></li></ol></li><li><a href=#配置查找顺序>配置查找顺序</a></li><li><a href=#示例配置>示例配置</a></li><li><a href=#使用环境变量进行配置>使用环境变量进行配置</a></li><li><a href=#ignore-content-and-data-files-when-rendering>Ignore content and data files when rendering</a></li><li><a href=#配置前置元数据>配置前置元数据</a><ol><li><a href=#配置日期>配置日期</a></li></ol></li><li><a href=#配置额外的输出格式>配置额外的输出格式</a></li><li><a href=#配置压缩>配置压缩</a></li><li><a href=#配置文件缓存>配置文件缓存</a><ol><li><a href=#关键词解释>关键词解释</a></li></ol></li><li><a href=#配置格式规范>配置格式规范</a></li><li><a href=#配置-cachedir>配置 cacheDir</a></li><li><a href=#另请参阅>另请参阅</a></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/post/configure-your-hugo/><img src=/post/configure-your-hugo/hugo-original-wordmark.svg loading=lazy alt="Featured image of post 配置你的 Hugo"></a></div><div class=article-details><header class=article-category><a href=/categories/documents/ style=background-color:#2a9d8f;color:#fff>文档</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/post/configure-your-hugo/>配置你的 Hugo</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Aug 04, 2023</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 16 分钟</time></div></footer></div></header><section class=article-content><p>本文为 Hugo 官方文档中 <a class=link href=https://gohugo.io/getting-started/configuration/ target=_blank rel=noopener>configuration</a> 部分的翻译，翻译时间为 2023/8/4，此时 Hugo 最新的 Release 版本为 v0.116.1，请注意文档的时效性。</p><h2 id=关于配置文件>关于配置文件</h2><p>Hugo 使用 <code>hugo.toml</code>, <code>hugo.yaml</code>，或者是 <code>hugo.json</code>（如果在根目录下被发现的话）作为默认的站点配置文件。</p><p>用户可以选择使用命令行选项<code>--config</code>用一个或多个站点配置文件覆盖该默认值。</p><p>例如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hugo --config debugconfig.toml
</span></span><span class=line><span class=cl>hugo --config a.toml,b.toml,c.toml
</span></span></code></pre></td></tr></table></div></div><blockquote><p>多个站点配置文件可以作为逗号分隔的字符串指定给 <code>--config</code> 选项。</p></blockquote><h2 id=hugotoml-vs-configtoml>hugo.toml vs config.toml</h2><p>在 Hugo 0.110.0 版本中，我们将默认的配置基本文件名更改为<code>hugo</code>，例如<code>hugo.toml</code>。我们仍然会查找<code>config.toml</code>等文件，但我们建议您最终将其重命名（但如果您想支持旧版本的 Hugo，则需要等待）。我们这样做的主要原因是让代码编辑器和构建工具更容易识别它作为 Hugo 配置文件和项目的标识。</p><h2 id=配置目录>配置目录</h2><p>除了使用单个站点配置文件外，您还可以使用<code>configDir</code>目录（默认为<code>config/</code>）来更轻松地组织和管理环境特定的设置。</p><ul><li><p>每个文件代表一个配置的根对象，例如<code>params.toml</code>用于<code>[Params]</code>，<code>menu(s).toml</code>用于<code>[Menu]</code>，<code>languages.toml</code>用于<code>[Languages]</code>等等&mldr;</p></li><li><p>每个文件的内容必须是顶级的，例如：</p><p><code>hugo.yaml</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>Params</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>foo</span><span class=p>:</span><span class=w> </span><span class=l>bar</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><code>params.yaml</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>foo</span><span class=p>:</span><span class=w> </span><span class=l>bar</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li><li><p>每个目录保存了一组文件，其中包含特定于某个环境的设置。</p></li><li><p>文件可以进行本地化，以便成为特定语言的配置文件。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl>├── config
</span></span><span class=line><span class=cl>│   ├── _default
</span></span><span class=line><span class=cl>│   │   ├── hugo.toml
</span></span><span class=line><span class=cl>│   │   ├── languages.toml
</span></span><span class=line><span class=cl>│   │   ├── menus.en.toml
</span></span><span class=line><span class=cl>│   │   ├── menus.zh.toml
</span></span><span class=line><span class=cl>│   │   └── params.toml
</span></span><span class=line><span class=cl>│   ├── production
</span></span><span class=line><span class=cl>│   │   ├── hugo.toml
</span></span><span class=line><span class=cl>│   │   └── params.toml
</span></span><span class=line><span class=cl>│   └── staging
</span></span><span class=line><span class=cl>│       ├── hugo.toml
</span></span><span class=line><span class=cl>│       └── params.toml
</span></span></code></pre></td></tr></table></div></div></li></ul><p>考虑上面的结构，在运行<code>hugo --environment staging</code>命令时，Hugo 会使用<code>config/_default</code>目录下的所有设置，并将<code>staging</code>目录的设置合并在其之上。</p><p>我们通过一个例子来更好地理解。假设您正在为您的网站使用 Google Analytics。这需要在<code>hugo.toml</code>文件中指定<code>googleAnalytics = "G-XXXXXXXX"</code>。现在考虑以下情况：</p><ul><li>您不希望在开发环境，即<code>localhost</code>中加载 Analytics 代码。</li><li>您想要为生产和演示环境使用不同的 Google Analytics ID，例如：<ul><li>生产环境使用<code>G-PPPPPPPP</code></li><li>演示环境使用<code>G-SSSSSSSS</code></li></ul></li></ul><p>根据上述情况，您需要配置您的<code>hugo.toml</code>文件如下：</p><ol><li><p>在<code>_default/hugo.toml</code>中，您根本不需要提及<code>googleAnalytics</code>参数。这确保在开发服务器上运行<code>hugo server</code>时不会加载任何 Google Analytics 代码。这有效是因为，默认情况下，当您运行<code>hugo server</code>时，Hugo 会将<code>Environment=development</code>，这将使用<code>_default</code>文件夹中的配置文件。</p></li><li><p>在<code>production/hugo.toml</code>中，您只需要一行：</p><p><code>googleAnalytics = "G-PPPPPPPP"</code></p><p>您无需在此配置文件中再次提及所有其他参数，如<code>title</code>、<code>baseURL</code>、<code>theme</code>等等。您只需要提及与生产环境不同或新的参数。这是因为 Hugo 将把这个配置与<code>_default/hugo.toml</code>进行<strong>合并</strong>。现在，当您运行<code>hugo</code>（构建命令）时，默认情况下 Hugo 会将<code>Environment=production</code>，因此生产网站中将包含<code>G-PPPPPPPP</code>的 Analytics 代码。</p></li><li><p>类似地，在<code>staging/hugo.toml</code>中，您只需要一行：</p><p><code>googleAnalytics = "G-SSSSSSSS"</code></p><p>现在您需要告诉 Hugo 您正在使用演示环境。因此，您的构建命令应为<code>hugo --environment staging</code>，这将在您的演示网站中加载<code>G-SSSSSSSS</code>的Analytics代码。</p></li></ol><blockquote><p>当使用<code>hugo server</code>时，默认环境为<strong>development</strong>，当使用<code>hugo</code>命令时，默认环境为<strong>production</strong>。</p></blockquote><h2 id=合并主题配置>合并主题配置</h2><p><code>_merge</code>配置项可以有以下值：</p><p><strong>none</strong></p><p>不进行合并。</p><p><strong>shallow</strong></p><p>只添加新键的值。</p><p><strong>deep</strong></p><p>添加新键的值，并合并现有的值。</p><p>请注意，您不需要像下面的默认设置那样冗长；如果未设置，较高层级的<code>_merge</code>值将被继承。</p><p><code>hugo.yaml</code>：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>build</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>_merge</span><span class=p>:</span><span class=w> </span><span class=l>none</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>caches</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>_merge</span><span class=p>:</span><span class=w> </span><span class=l>none</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>cascade</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>_merge</span><span class=p>:</span><span class=w> </span><span class=l>none</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>frontmatter</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>_merge</span><span class=p>:</span><span class=w> </span><span class=l>none</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>imaging</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>_merge</span><span class=p>:</span><span class=w> </span><span class=l>none</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>languages</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>_merge</span><span class=p>:</span><span class=w> </span><span class=l>none</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>en</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>_merge</span><span class=p>:</span><span class=w> </span><span class=l>none</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>menus</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>_merge</span><span class=p>:</span><span class=w> </span><span class=l>shallow</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>params</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>_merge</span><span class=p>:</span><span class=w> </span><span class=l>deep</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>markup</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>_merge</span><span class=p>:</span><span class=w> </span><span class=l>none</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>mediatypes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>_merge</span><span class=p>:</span><span class=w> </span><span class=l>shallow</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>menus</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>_merge</span><span class=p>:</span><span class=w> </span><span class=l>shallow</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>minify</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>_merge</span><span class=p>:</span><span class=w> </span><span class=l>none</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>module</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>_merge</span><span class=p>:</span><span class=w> </span><span class=l>none</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>outputformats</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>_merge</span><span class=p>:</span><span class=w> </span><span class=l>shallow</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>params</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>_merge</span><span class=p>:</span><span class=w> </span><span class=l>deep</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>permalinks</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>_merge</span><span class=p>:</span><span class=w> </span><span class=l>none</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>privacy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>_merge</span><span class=p>:</span><span class=w> </span><span class=l>none</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>related</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>_merge</span><span class=p>:</span><span class=w> </span><span class=l>none</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>security</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>_merge</span><span class=p>:</span><span class=w> </span><span class=l>none</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>sitemap</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>_merge</span><span class=p>:</span><span class=w> </span><span class=l>none</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>taxonomies</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>_merge</span><span class=p>:</span><span class=w> </span><span class=l>none</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=所有的配置项设置>所有的配置项设置</h2><p>以下是Hugo定义的变量的完整列表。用户可以选择覆盖其站点配置文件中的这些值。</p><h3 id=archetypedir>archetypeDir</h3><p><strong>默认值：</strong> &ldquo;archetypes&rdquo;</p><p>Hugo 查找原型文件（内容模板）的目录。还可以参考<a class=link href=https://gohugo.io/hugo-modules/configuration/#module-configuration-mounts target=_blank rel=noopener>模块挂载配置</a>，以另一种方式配置这个目录（从 Hugo 0.56 版本开始）。</p><h3 id=assetdir>assetDir</h3><p><strong>默认值：</strong> &ldquo;assets&rdquo;</p><p>Hugo 查找用于<a class=link href=https://gohugo.io/hugo-pipes/ target=_blank rel=noopener>Hugo Pipes</a> 的资源文件的目录。还可以参考<a class=link href=https://gohugo.io/hugo-modules/configuration/#module-configuration-mounts target=_blank rel=noopener>模块挂载配置</a>，以另一种方式配置这个目录（从 Hugo 0.56 版本开始）。</p><h3 id=baseurl>baseURL</h3><p>您发布的站点的绝对 URL（包括协议、主机、路径和斜杠），例如 <code>https://www.example.org/docs/</code>。</p><h3 id=build>build</h3><p>参见<a class=link href=https://gohugo.io/getting-started/configuration/#configure-build target=_blank rel=noopener>配置构建</a>。</p><h3 id=builddrafts-false>buildDrafts (false)</h3><p><strong>默认值：</strong> false</p><p>构建时是否包含草稿。</p><h3 id=buildexpired>buildExpired</h3><p><strong>默认值：</strong> false</p><p>是否包含已过期的内容。</p><h3 id=buildfuture>buildFuture</h3><p><strong>默认值：</strong> false</p><p>是否包含发布日期在未来的内容。</p><h3 id=caches>caches</h3><p>参见<a class=link href=https://gohugo.io/getting-started/configuration/#configure-file-caches target=_blank rel=noopener>配置文件缓存</a>。</p><h3 id=cascade>cascade</h3><p>将默认配置值（前置元数据）传递给内容树中的页面。站点配置中的选项与页面前置元数据中的选项相同，请参阅<a class=link href=https://gohugo.io/content-management/front-matter#front-matter-cascade target=_blank rel=noopener>前置元数据级联</a>。</p><h3 id=canonifyurls>canonifyURLs</h3><p><strong>默认值：</strong> false</p><p>启用后，将相对 URL 转换为绝对 URL。</p><h3 id=cleandestinationdir>cleanDestinationDir</h3><p><strong>默认值：</strong> false</p><p>构建时，删除目标中在静态目录中找不到的文件。</p><h3 id=contentdir>contentDir</h3><p><strong>默认值：</strong> &ldquo;content&rdquo;</p><p>Hugo 读取内容文件的目录。还可以参考<a class=link href=https://gohugo.io/hugo-modules/configuration/#module-configuration-mounts target=_blank rel=noopener>模块挂载配置</a>，以另一种方式配置这个目录（从 Hugo 0.56 版本开始）。</p><h3 id=copyright>copyright</h3><p><strong>默认值：</strong> ""</p><p>版权声明，通常显示在网站的页脚。</p><h3 id=datadir>dataDir</h3><p><strong>默认值：</strong> &ldquo;data&rdquo;</p><p>Hugo 读取数据文件的目录。还可以参考<a class=link href=https://gohugo.io/hugo-modules/configuration/#module-configuration-mounts target=_blank rel=noopener>模块挂载配置</a>，以另一种方式配置这个目录（从 Hugo 0.56 版本开始）。</p><h3 id=defaultcontentlanguage>defaultContentLanguage</h3><p><strong>默认值：</strong> &ldquo;en&rdquo;</p><p>没有语言标识的内容将默认使用此语言。</p><h3 id=defaultcontentlanguageinsubdir>defaultContentLanguageInSubdir</h3><p><strong>默认值：</strong> false</p><p>在子目录中呈现默认内容语言，例如 <code>content/en/</code>。网站根目录 <code>/</code> 将重定向到 <code>/en/</code>。</p><h3 id=disablealiases>disableAliases</h3><p><strong>默认值：</strong> false</p><p>禁用别名重定向的生成。请注意，即使设置了 <code>disableAliases</code>，别名本身仍将保留在页面中。使用此选项可以在 <code>.htaccess</code>、Netlify 的 <code>_redirects</code> 文件或类似的情况下生成 301 重定向。</p><h3 id=disablehugogeneratorinject>disableHugoGeneratorInject</h3><p><strong>默认值：</strong> false</p><p>Hugo 默认情况下会在<em>首页</em>的 HTML 头部插入生成器元标签。您可以关闭它，但我们真的希望您不要这样做，因为这是观察 Hugo 的受欢迎程度的好方法。</p><h3 id=disablekinds>disableKinds</h3><p><strong>默认值：</strong> []</p><p>启用对指定的 <em>Kinds</em> 的所有页面进行禁用。允许在此列表中使用的值有：&ldquo;page&rdquo;、&ldquo;home&rdquo;、&ldquo;section&rdquo;、&ldquo;taxonomy&rdquo;、&ldquo;term&rdquo;、&ldquo;RSS&rdquo;、&ldquo;sitemap&rdquo;、&ldquo;robotsTXT&rdquo;、&ldquo;404&rdquo;。</p><h3 id=disablelivereload>disableLiveReload</h3><p><strong>默认值：</strong> false</p><p>禁用浏览器窗口的自动实时重新加载。</p><h3 id=disablepathtolower>disablePathToLower</h3><p><strong>默认值：</strong> false</p><p>不要将 URL/路径转换为小写。</p><h3 id=enableemoji>enableEmoji</h3><p><strong>默认值：</strong> false</p><p>为页面内容启用 Emoji 表情符号支持；参见<a class=link href=https://www.webpagefx.com/tools/emoji-cheat-sheet/ target=_blank rel=noopener>Emoji 表情符号秘笈</a>。</p><h3 id=enablegitinfo>enableGitInfo</h3><p><strong>默认值：</strong> false</p><p>为每个页面启用 <code>.GitInfo</code> 对象（如果 Hugo 站点已通过 Git 进行版本控制）。这将使用内容文件的最后一次 git 提交日期更新每个页面的 <code>Lastmod</code> 参数。</p><h3 id=enableinlineshortcodes>enableInlineShortcodes</h3><p><strong>默认值：</strong> false</p><p>启用行内短代码支持。参见<a class=link href=https://gohugo.io/templates/shortcode-templates/#inline-shortcodes target=_blank rel=noopener>行内短代码</a>。</p><h3 id=enablemissingtranslationplaceholders>enableMissingTranslationPlaceholders</h3><p><strong>默认值：</strong> false</p><p>如果翻译缺失，显示一个占位符，而不是默认值或空字符串。</p><h3 id=enablerobotstxt>enableRobotsTXT</h3><p><strong>默认值：</strong> false</p><p>启用 <code>robots.txt</code> 文件的生成。</p><h3 id=frontmatter>frontmatter</h3><p>参见<a class=link href=https://gohugo.io/getting-started/configuration/#configure-front-matter target=_blank rel=noopener>前置元数据配置</a>。</p><h3 id=googleanalytics>googleAnalytics</h3><p><strong>默认值：</strong> ""</p><p>Google Analytics 跟踪 ID。</p><h3 id=hascjklanguage>hasCJKLanguage</h3><p><strong>默认值：</strong> false</p><p>如果为 true，则自动检测内容中的中文/日文/韩文语言。这将使 <code>.Summary</code> 和 <code>.WordCount</code> 对于 CJK 语言正确地工作。</p><h3 id=imaging>imaging</h3><p>参见<a class=link href=https://gohugo.io/content-management/image-processing/#imaging-configuration target=_blank rel=noopener>图像处理配置</a>。</p><h3 id=languagecode>languageCode</h3><p><strong>默认值：</strong> ""</p><p>由<a class=link href=https://datatracker.ietf.org/doc/html/rfc5646 target=_blank rel=noopener>RFC 5646</a> 定义的语言标签。此值用于填充：</p><ul><li>内部<a class=link href=https://github.com/gohugoio/hugo/blob/master/tpl/tplimpl/embedded/templates/_default/rss.xml target=_blank rel=noopener>RSS 模板</a> 中的 <code>&lt;language></code> 元素。</li><li>内部<a class=link href=https://github.com/gohugoio/hugo/blob/master/tpl/tplimpl/embedded/templates/alias.html target=_blank rel=noopener>别名模板</a> 中 <code>&lt;html></code> 元素的 <code>lang</code> 属性。</li></ul><h3 id=languages>languages</h3><p>参见<a class=link href=https://gohugo.io/content-management/multilingual/#configure-languages target=_blank rel=noopener>配置语言</a>。</p><h3 id=disablelanguages>disableLanguages</h3><p>参见<a class=link href=https://gohugo.io/content-management/multilingual/#disable-a-language target=_blank rel=noopener>禁用语言</a>。</p><h3 id=markup>markup</h3><p>参见<a class=link href=https://gohugo.io/getting-started/configuration-markup target=_blank rel=noopener>配置标记</a>。</p><h3 id=mediatypes>mediaTypes</h3><p>参见<a class=link href=https://gohugo.io/templates/output-formats/#media-types target=_blank rel=noopener>配置媒体类型</a>。</p><h3 id=menus>menus</h3><p>参见<a class=link href=https://gohugo.io/content-management/menus/#define-in-site-configuration target=_blank rel=noopener>菜单</a>。</p><h3 id=minify>minify</h3><p>参见<a class=link href=https://gohugo.io/getting-started/configuration/#configure-minify target=_blank rel=noopener>配置压缩</a>。</p><h3 id=module>module</h3><p>模块配置参见<a class=link href=https://gohugo.io/hugo-modules/configuration/ target=_blank rel=noopener>模块配置</a>。</p><h3 id=newcontenteditor>newContentEditor</h3><p><strong>默认值：</strong> ""</p><p>创建新内容时使用的编辑器。</p><h3 id=nochmod>noChmod</h3><p><strong>默认值：</strong> false</p><p>不同步文件的权限模式。</p><h3 id=notimes>noTimes</h3><p><strong>默认值：</strong> false</p><p>不同步文件的修改时间。</p><h3 id=outputformats>outputFormats</h3><p>参见<a class=link href=https://gohugo.io/getting-started/configuration/#configure-additional-output-formats target=_blank rel=noopener>配置输出格式</a>。</p><h3 id=paginate>paginate</h3><p><strong>默认值：</strong> 10</p><p>默认的分页每页元素数目，参见<a class=link href=https://gohugo.io/templates/pagination/ target=_blank rel=noopener>分页</a>。</p><h3 id=paginatepath>paginatePath</h3><p><strong>默认值：</strong> &ldquo;page&rdquo;</p><p>用于分页的路径元素（<code>https://example.com/page/2</code>）。</p><h3 id=permalinks>permalinks</h3><p>参见<a class=link href=https://gohugo.io/content-management/urls/#permalinks target=_blank rel=noopener>内容管理</a>。</p><h3 id=pluralizelisttitles>pluralizeListTitles</h3><p><strong>默认值：</strong> true</p><p>在列表中使用复数形式的标题。</p><h3 id=publishdir>publishDir</h3><p><strong>默认值：</strong> &ldquo;public&rdquo;</p><p>Hugo 将写入最终静态站点的目录（包含 HTML 文件等）。</p><h3 id=related>related</h3><p>参见<a class=link href=https://gohugo.io/content-management/related/#configure-related-content target=_blank rel=noopener>相关内容</a>。</p><h3 id=relativeurls>relativeURLs</h3><p><strong>默认值：</strong> false</p><p>启用后，所有相对 URL 将相对于内容根目录。请注意，这不影响绝对 URL。</p><h3 id=reflinkserrorlevel>refLinksErrorLevel</h3><p><strong>默认值：</strong> &ldquo;ERROR&rdquo;</p><p>使用 <code>ref</code> 或 <code>relref</code> 解析页面链接时，如果无法解析链接，将使用此日志级别记录。有效值为 <code>ERROR</code>（默认值）或 <code>WARNING</code>。任何 <code>ERROR</code> 都会导致构建失败（<code>exit -1</code>）。</p><h3 id=reflinksnotfoundurl>refLinksNotFoundURL</h3><p>用于在 <code>ref</code> 或 <code>relref</code> 中找不到页面引用时使用的占位符 URL。使用原样。</p><h3 id=removepathaccents>removePathAccents</h3><p><strong>默认值：</strong> false</p><p>从内容路径中的<a class=link href=https://en.wikipedia.org/wiki/Precomposed_character target=_blank rel=noopener>组合字符</a>中删除<a class=link href=https://www.compart.com/en/unicode/category/Mn target=_blank rel=noopener>非间隔标记</a>。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>content/post/hügó.md --&gt; https://example.org/post/hugo/
</span></span></code></pre></td></tr></table></div></div><h3 id=rsslimit>rssLimit</h3><p><strong>默认值：</strong> -1（无限制）</p><p>RSS 订阅中的最大项数。</p><h3 id=sectionpagesmenu>sectionPagesMenu</h3><p>参见<a class=link href=https://gohugo.io/content-management/menus/#define-in-site-configuration target=_blank rel=noopener>菜单</a>。</p><h3 id=security>security</h3><p>参见<a class=link href=https://gohugo.io/about/security-model/#security-policy target=_blank rel=noopener>安全策略</a>。</p><h3 id=sitemap>sitemap</h3><p>默认的<a class=link href=https://gohugo.io/templates/sitemap-template/#configuration target=_blank rel=noopener>站点地图配置</a>。</p><h3 id=summarylength>summaryLength</h3><p><strong>默认值：</strong> 70</p><p><code>.Summary</code> 中显示的文本长度（按照单词计算），用于自动摘要拆分。</p><h3 id=taxonomies>taxonomies</h3><p>参见<a class=link href=https://gohugo.io/content-management/taxonomies#configure-taxonomies target=_blank rel=noopener>配置分类法</a>。</p><h3 id=theme>theme</h3><p>参见<a class=link href=https://gohugo.io/hugo-modules/configuration/#module-configuration-imports target=_blank rel=noopener>模块配置</a> 如何导入主题。</p><h3 id=themesdir>themesDir</h3><p><strong>默认值：</strong> &ldquo;themes&rdquo;</p><p>Hugo 从中读取主题的目录。</p><h3 id=timeout>timeout</h3><p><strong>默认值：</strong> &ldquo;30s&rdquo;</p><p>生成页面内容的超时时间，以<a class=link href=https://pkg.go.dev/time#Duration target=_blank rel=noopener>持续时间</a> 或秒为单位指定。<em>注意：</em> 这用于递归内容生成的退出。如果您的页面生成缓慢（例如因为它们需要大型图像处理或依赖于远程内容），则可能需要增加此限制。</p><h3 id=timezone>timeZone</h3><p>时区（或地理位置），例如 <code>Europe/Oslo</code>，用于解析没有此类信息的前置元数据日期和<a class=link href=https://gohugo.io/functions/time/ target=_blank rel=noopener><code>time</code>函数</a>。有效值列表可能与系统相关，但应包括 <code>UTC</code>、<code>Local</code> 和<a class=link href=https://en.wikipedia.org/wiki/List_of_tz_database_time_zones target=_blank rel=noopener>IANA 时区数据库</a> 中的任何位置。</p><h3 id=title>title</h3><p>站点标题。</p><h3 id=titlecasestyle>titleCaseStyle</h3><p><strong>默认值：</strong> &ldquo;ap&rdquo;</p><p>参见<a class=link href=https://gohugo.io/getting-started/configuration/#configure-title-case target=_blank rel=noopener>配置标题大小写</a>。</p><h3 id=uglyurls>uglyURLs</h3><p><strong>默认值：</strong> false</p><p>启用后，URL 将采用 <code>/filename.html</code> 的形式，而不是 <code>/filename/</code>。</p><h3 id=watch>watch</h3><p><strong>默认值：</strong> false</p><p>监视文件系统的更改，并根据需要重新创建。</p><blockquote><p>如果您在 *nix 系统上开发您的网站，则以下命令行快捷方式很有用，可以找到配置选项：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>cd ~/sites/yourhugosite
</span></span><span class=line><span class=cl>hugo config | grep emoji
</span></span></code></pre></td></tr></table></div></div><p>输出示例：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>enableemoji: true
</span></span></code></pre></td></tr></table></div></div></blockquote><h2 id=配置构建>配置构建</h2><p><code>build</code> 配置部分包含全局构建相关的配置选项。</p><p><code>hugo.yaml</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>build</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>buildStats</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>disableClasses</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>disableIDs</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>disableTags</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>cachebusters</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>source</span><span class=p>:</span><span class=w> </span><span class=l>assets/.*\.(js|ts|jsx|tsx)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class=l>(js|scripts|javascript)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>source</span><span class=p>:</span><span class=w> </span><span class=l>assets/.*\.(css|sass|scss)$</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class=l>(css|styles|scss|sass)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>source</span><span class=p>:</span><span class=w> </span><span class=l>(postcss|tailwind)\.config\.js</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class=l>(css|styles|scss|sass)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>source</span><span class=p>:</span><span class=w> </span><span class=l>assets/.*\.(.*)$</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class=l>$1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>noJSConfigInAssets</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>useResourceCacheWhen</span><span class=p>:</span><span class=w> </span><span class=l>fallback</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=buildstats>buildStats</h3><p><a class=link href=https://github.com/gohugoio/hugo/releases/tag/v0.115.1 target=_blank rel=noopener>自v0.115.1新增</a></p><p>当启用时，在项目根目录下创建一个 <code>hugo_stats.json</code> 文件。该文件包含发布站点中每个HTML元素的 <code>class</code> 属性、<code>id</code> 属性和标签的数组。在从您的站点中<a class=link href=https://gohugo.io/hugo-pipes/postprocess/#css-purging-with-postcss target=_blank rel=noopener>删除未使用的CSS</a>时，可以使用此文件作为数据源。这个过程也称为剪枝（pruning）、清理（purging）或摇树（tree shaking）。</p><p>通过 <code>disableClasses</code>、<code>disableIDs</code> 和 <code>disableTags</code> 键从 <code>hugo_stats.json</code> 中排除 <code>class</code> 属性、<code>id</code> 属性或标签。</p><blockquote><p>在v0.115.0及更早版本中，通过将 <code>writeStats</code> 设置为 <code>true</code> 来启用此功能。虽然仍然可用，但 <code>writeStats</code> 键将在将来的版本中被弃用。</p><p>由于CSS清理通常仅限于生产构建，因此将 <code>buildStats</code> 对象放在 <a class=link href=https://gohugo.io/getting-started/configuration/#configuration-directory target=_blank rel=noopener>config/production</a> 之后。</p><p>为了提高速度，解析发布站点时可能会出现“误报”（例如，不是HTML元素的HTML元素）。这些“误报”很少且无关紧要。</p><p>由于部分服务器构建的性质，新的HTML实体在服务器运行时添加，但旧值在您重新启动服务器或运行常规 <code>hugo</code> 构建之前不会被删除。</p></blockquote><h3 id=cachebusters>cachebusters</h3><p>参见<a class=link href=https://gohugo.io/getting-started/configuration/#configure-cache-busters target=_blank rel=noopener>配置缓存破坏</a></p><h3 id=nojsconfiginassets>noJSConfigInAssets</h3><p>关闭将 <code>jsconfig.json</code> 写入 <code>/assets</code> 文件夹的功能，并映射从运行的 <a class=link href=https://gohugo.io/hugo-pipes/js target=_blank rel=noopener>js.Build</a> 导入的内容。此文件旨在帮助代码编辑器（如<a class=link href=https://code.visualstudio.com/ target=_blank rel=noopener>VS Code</a>）中的智能感知/导航。请注意，如果您不使用 <code>js.Build</code>，则不会写入任何文件。</p><h3 id=useresourcecachewhen>useResourceCacheWhen</h3><p>何时使用 <code>/resources/_gen</code> 中缓存的资源进行 PostCSS 和 ToCSS。有效值为 <code>never</code>、<code>always</code> 和 <code>fallback</code>。最后一个值意味着如果 PostCSS/扩展版本不可用，则尝试使用缓存。</p><h2 id=配置缓存破坏>配置缓存破坏</h2><p><a class=link href=https://github.com/gohugoio/hugo/releases/tag/v0.112.0 target=_blank rel=noopener>自 v0.112.0 版新增</a></p><p>添加了 <code>build.cachebusters</code> 配置选项，以支持使用 Tailwind 3.x 的 JIT 编译器进行开发，其中 <code>build</code> 配置可能如下所示：</p><p><code>hugo.yaml</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>build</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>buildStats</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>cachebusters</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>source</span><span class=p>:</span><span class=w> </span><span class=l>assets/watching/hugo_stats\.json</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class=l>styles\.css</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>source</span><span class=p>:</span><span class=w> </span><span class=l>(postcss|tailwind)\.config\.js</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class=l>css</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>source</span><span class=p>:</span><span class=w> </span><span class=l>assets/.*\.(js|ts|jsx|tsx)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class=l>js</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>source</span><span class=p>:</span><span class=w> </span><span class=l>assets/.*\.(.*)$</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class=l>$1</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>上面的示例中的一些关键点是 <code>writeStats = true</code>，它会在每次构建时将一个 <code>hugo_stats.json</code> 文件与渲染输出中使用的 HTML 类等写入。对此文件的更改将触发 <code>styles.css</code> 文件的重建。您还需要将 <code>hugo_stats.json</code> 添加到 Hugo 的服务器监视器中。有关运行示例，请参见 <a class=link href=https://github.com/bep/hugo-starter-tailwind-basic target=_blank rel=noopener>Hugo Starter Tailwind Basic</a>。</p><h3 id=source>source</h3><p>一个匹配与 Hugo 中的一个虚拟组件目录（通常是 <code>assets/...</code>）相关联的文件的正则表达式。</p><h3 id=target>target</h3><p>一个匹配资源缓存中应在 <code>source</code> 更改时过期的键的正则表达式。您可以在表达式中使用来自 <code>source</code> 的匹配正则表达式组，例如 <code>$1</code>。</p><h2 id=配置服务器>配置服务器</h2><p>这仅在运行 <code>hugo server</code> 时相关，它允许在开发过程中设置 HTTP 标头，以便您可以测试内容安全策略等。配置格式与 <a class=link href=https://docs.netlify.com/routing/headers/#syntax-for-the-netlify-configuration-file target=_blank rel=noopener>Netlify</a> 相匹配，但带有稍微更强大的 <a class=link href=https://github.com/gobwas/glob target=_blank rel=noopener>Glob 匹配</a>：</p><p><code>hugo.yaml</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>server</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>headers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>for</span><span class=p>:</span><span class=w> </span><span class=l>/**</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>values</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>Content-Security-Policy</span><span class=p>:</span><span class=w> </span><span class=l>script-src localhost:1313</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>Referrer-Policy</span><span class=p>:</span><span class=w> </span><span class=l>strict-origin-when-cross-origin</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>X-Content-Type-Options</span><span class=p>:</span><span class=w> </span><span class=l>nosniff</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>X-Frame-Options</span><span class=p>:</span><span class=w> </span><span class=l>DENY</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>X-XSS-Protection</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=l>; mode=block</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>由于这仅适用于“开发”，因此将其放在 <code>development</code> 环境下可能是有意义的：</p><p><code>config/development/server.yaml</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>headers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>for</span><span class=p>:</span><span class=w> </span><span class=l>/**</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>values</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>Content-Security-Policy</span><span class=p>:</span><span class=w> </span><span class=l>script-src localhost:1313</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>Referrer-Policy</span><span class=p>:</span><span class=w> </span><span class=l>strict-origin-when-cross-origin</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>X-Content-Type-Options</span><span class=p>:</span><span class=w> </span><span class=l>nosniff</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>X-Frame-Options</span><span class=p>:</span><span class=w> </span><span class=l>DENY</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>X-XSS-Protection</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=l>; mode=block</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>您还可以为服务器指定简单的重定向规则。语法与 Netlify 类似。</p><p>请注意，<code>status</code> 为 200 的情况会触发 <a class=link href=https://docs.netlify.com/routing/redirects/rewrites-proxies/ target=_blank rel=noopener>URL 重写</a>，这在 SPA（单页面应用程序）情况下是您想要的，例如：</p><p><code>config/development/server.yaml</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>redirects</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>force</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>from</span><span class=p>:</span><span class=w> </span><span class=l>/myspa/**</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>status</span><span class=p>:</span><span class=w> </span><span class=m>200</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>to</span><span class=p>:</span><span class=w> </span><span class=l>/myspa/</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>将 <code>force=true</code> 设置为 <code>true</code> 将使重定向即使路径中存在现有内容也会生效。请注意，在 Hugo 0.76 之前，<code>force</code> 是默认行为，但与 Netlify 的做法保持一致。</p><h2 id=404-服务器错误页面>404 服务器错误页面</h2><p><a class=link href=https://github.com/gohugoio/hugo/releases/tag/v0.103.0 target=_blank rel=noopener>自 v0.103.0 版新增</a></p><p>默认情况下，当运行 <code>hugo server</code> 时，Hugo 将使用 <code>404.html</code> 模板渲染所有 404 错误。请注意，如果您已经将一个或多个重定向添加到<a class=link href=https://gohugo.io/getting-started/configuration/#configure-server target=_blank rel=noopener>服务器配置</a>，您需要显式添加 404 重定向，例如：</p><p><code>config/development/server.yaml</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>redirects</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>from</span><span class=p>:</span><span class=w> </span><span class=l>/**</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>status</span><span class=p>:</span><span class=w> </span><span class=m>404</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>to</span><span class=p>:</span><span class=w> </span><span class=l>/404.html</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=配置标题大小写>配置标题大小写</h2><p>将 <code>titleCaseStyle</code> 设置为指定 <a class=link href=https://gohugo.io/functions/title/ target=_blank rel=noopener>title</a> 模板函数和 Hugo 中自动生成的章节标题使用的标题样式。</p><p>可以是以下之一：</p><ul><li><code>ap</code>（默认），<a class=link href=https://www.apstylebook.com/ target=_blank rel=noopener>美联社 (AP) 样式指南</a>中的大写规则。</li><li><code>chicago</code>，<a class=link href=https://www.chicagomanualofstyle.org/home.html target=_blank rel=noopener>芝加哥手册</a>中的规则。</li><li><code>go</code>，Go 语言中的每个单词都大写。</li><li><code>firstupper</code>，将第一个单词的首字母大写。</li><li><code>none</code>，不使用大写。</li></ul><h2 id=配置环境变量>配置环境变量</h2><h3 id=hugo_numworkermultiplier>HUGO_NUMWORKERMULTIPLIER</h3><p>可以设置此变量以增加或减少在 Hugo 中并行处理中使用的工作程序数量。如果未设置，将使用逻辑 CPU 的数量。</p><h2 id=配置查找顺序>配置查找顺序</h2><p>类似于模板的<a class=link href=https://gohugo.io/templates/lookup-order/ target=_blank rel=noopener>查找顺序</a>，Hugo 在网站源代码目录的根目录中有一组默认规则来搜索配置文件作为默认行为：</p><ol><li><code>./hugo.toml</code></li><li><code>./hugo.yaml</code></li><li><code>./hugo.json</code></li></ol><p>在配置文件中，您可以指示 Hugo 如何渲染您的网站，控制网站的菜单，并任意定义特定于项目的全局参数。</p><h2 id=示例配置>示例配置</h2><p>以下是配置文件的典型示例。嵌套在 <code>params:</code> 下的值将填充 <a class=link href=https://gohugo.io/variables/site/ target=_blank rel=noopener><code>.Site.Params</code></a> 变量，供<a class=link href=https://gohugo.io/templates/ target=_blank rel=noopener>模板</a>使用：</p><p><code>hugo.yaml</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>baseURL</span><span class=p>:</span><span class=w> </span><span class=l>https://yoursite.example.com/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>params</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>AuthorName</span><span class=p>:</span><span class=w> </span><span class=l>Jon Doe</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>GitHubUser</span><span class=p>:</span><span class=w> </span><span class=l>spf13</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ListOfFoo</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>foo1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>foo2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>SidebarRecentLimit</span><span class=p>:</span><span class=w> </span><span class=m>5</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Subtitle</span><span class=p>:</span><span class=w> </span><span class=l>Hugo is Absurdly Fast!</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>permalinks</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>posts</span><span class=p>:</span><span class=w> </span><span class=l>/:year/:month/:title/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=l>My Hugo Site</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=使用环境变量进行配置>使用环境变量进行配置</h2><p>除了上述3个配置选项外，还可以通过操作系统环境变量定义配置键值对。</p><p>例如，以下命令将在类 Unix 系统上有效地设置网站的标题：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl>$ env HUGO_TITLE=&#34;Some Title&#34; hugo
</span></span></code></pre></td></tr></table></div></div><p>如果您使用类似 Netlify 的服务部署站点，这非常有用。可以查看 Hugo 文档的 <a class=link href=https://github.com/gohugoio/hugoDocs/blob/master/netlify.toml target=_blank rel=noopener>Netlify 配置文件</a> 获取示例。</p><blockquote><p>名称必须以 <code>HUGO_</code> 为前缀，并且在设置操作系统环境变量时，配置键必须使用大写。</p><p>要设置配置参数，请将名称以 <code>HUGO_PARAMS_</code> 为前缀</p></blockquote><p>如果使用的是蛇形命名法的变量名，则上述方法将不起作用。Hugo通过 <code>HUGO</code> 后的第一个字符来确定分隔符的使用方式。这允许您使用任何允许的<a class=link href="https://stackoverflow.com/questions/2821043/allowed-characters-in-linux-environment-variable-names#:~:text=So%20names%20may%20contain%20any%2C%20printable%20characters%2C%20but%20may%20not%20begin%20with%20a%20digit." target=_blank rel=noopener>分隔符</a>在环境变量中定义变量，例如 <code>HUGOxPARAMSxAPI_KEY=abcdefgh</code>。</p><h2 id=ignore-content-and-data-files-when-rendering>Ignore content and data files when rendering</h2><p><strong>Note:</strong> This works, but we recommend you use the newer and more powerful <a class=link href=https://gohugo.io/hugo-modules/configuration/#module-configuration-mounts target=_blank rel=noopener>includeFiles and excludeFiles</a> mount options.</p><p>To exclude specific files from the <code>content</code>, <code>data</code>, and <code>i18n</code> directories when rendering your site, set <code>ignoreFiles</code> to one or more regular expressions to match against the absolute file path.</p><p>To ignore files ending with <code>.foo</code> or <code>.boo</code>:</p><p><code>hugo.yaml</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>ignoreFiles</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=l>\.foo$</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=l>\.boo$</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>To ignore a file using the absolute file path:</p><p><code>hugo.yaml</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>ignoreFiles</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=l>^/home/user/project/content/test\.md$</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=配置前置元数据>配置前置元数据</h2><h3 id=配置日期>配置日期</h3><p>日期在 Hugo 中非常重要，您可以通过向 <code>hugo.toml</code> 添加 <code>frontmatter</code> 部分来配置 Hugo 如何为您的内容页面分配日期。</p><p>默认配置如下：</p><p><code>hugo.yaml</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>frontmatter</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>date</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>date</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>publishDate</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>lastmod</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>expiryDate</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>expiryDate</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>lastmod</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=p>:</span><span class=l>git</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>lastmod</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>date</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>publishDate</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>publishDate</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>publishDate</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>date</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>例如，如果您的某些内容中有非标准的日期参数，您可以覆盖 <code>date</code> 的设置：</p><p><code>hugo.yaml</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>frontmatter</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>date</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>myDate</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=p>:</span><span class=l>default</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>其中 <code>:default</code> 是默认设置的快捷方式。上述配置将将 <code>.Date</code> 设置为 <code>myDate</code> 中的日期值（如果存在），如果不存在，则会查找 <code>date</code>、<code>publishDate</code>、<code>lastmod</code>，并选择第一个有效日期。</p><p>在右侧的列表中，以“:”开头的值是具有特殊含义的日期处理程序（见下文）。其他值只是您前置元数据配置中的日期参数的名称（不区分大小写）。还请注意，Hugo 对上述内容有一些内置别名：<code>lastmod</code> => <code>modified</code>，<code>publishDate</code> => <code>pubdate</code>，<code>published</code> 和 <code>expiryDate</code> => <code>unpublishdate</code>。例如，使用 <code>pubDate</code> 作为前置元数据中的日期，在默认情况下，将分配给 <code>.PublishDate</code>。</p><p>特殊的日期处理程序有：</p><p><code>:fileModTime</code></p><p>从内容文件的最后修改时间戳中提取日期。</p><p>例如：</p><p><code>hugo.yaml</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>frontmatter</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>lastmod</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>lastmod</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=p>:</span><span class=l>fileModTime</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=p>:</span><span class=l>default</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>上面的配置首先尝试从 <code>lastmod</code> 前置元数据参数中提取 <code>.Lastmod</code> 的值，然后从内容文件的修改时间戳中提取日期。最后，<code>:default</code> 在这里可能不需要，但 Hugo 最终将在 <code>:git</code>、<code>date</code> 和 <code>publishDate</code> 中查找有效日期。</p><p><code>:filename</code></p><p>从内容文件的文件名中提取日期。例如，<code>2018-02-22-mypage.md</code> 将提取日期 <code>2018-02-22</code>。另外，如果未设置 <code>slug</code>，将使用 <code>mypage</code> 作为 <code>.Slug</code> 的值。</p><p>例如：</p><p><code>hugo.yaml</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>frontmatter</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>date</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=p>:</span><span class=l>filename</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=p>:</span><span class=l>default</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>上面的配置首先尝试从文件名中提取 <code>.Date</code> 的值，然后将查找前置元数据参数 <code>date</code>、<code>publishDate</code> 和最后是 <code>lastmod</code>。</p><p><code>:git</code></p><p>这是该内容文件的最后一次修订的 Git 作者日期。只有在设置了 <code>--enableGitInfo</code> 或在站点配置中设置 <code>enableGitInfo = true</code> 时才会设置这个值。</p><h2 id=配置额外的输出格式>配置额外的输出格式</h2><p>Hugo v0.20 引入了将内容渲染为多种输出格式（例如 JSON、AMP html 或 CSV）的能力。有关如何将这些值添加到 Hugo 项目的配置文件的信息，请参阅<a class=link href=https://gohugo.io/templates/output-formats/ target=_blank rel=noopener>输出格式</a>。</p><h2 id=配置压缩>配置压缩</h2><p>默认配置如下：</p><p><code>hugo.yaml</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>minify</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>disableCSS</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>disableHTML</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>disableJS</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>disableJSON</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>disableSVG</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>disableXML</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>minifyOutput</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>tdewolff</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>css</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>keepCSS2</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>precision</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>html</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>keepComments</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>keepConditionalComments</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>keepDefaultAttrVals</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>keepDocumentTags</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>keepEndTags</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>keepQuotes</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>keepWhitespace</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>js</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>keepVarNames</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>precision</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>2022</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>json</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>keepNumbers</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>precision</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>svg</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>keepComments</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>precision</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>xml</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>keepWhitespace</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=配置文件缓存>配置文件缓存</h2><p>自 Hugo 0.52 版本开始，您可以配置更多内容，而不仅仅是 <code>cacheDir</code>。以下是默认配置：</p><p><code>hugo.yaml</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>caches</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>assets</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>dir</span><span class=p>:</span><span class=w> </span><span class=p>:</span><span class=l>resourceDir/_gen</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>maxAge</span><span class=p>:</span><span class=w> </span>-<span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>getcsv</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>dir</span><span class=p>:</span><span class=w> </span><span class=p>:</span><span class=l>cacheDir/:project</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>maxAge</span><span class=p>:</span><span class=w> </span>-<span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>getjson</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>dir</span><span class=p>:</span><span class=w> </span><span class=p>:</span><span class=l>cacheDir/:project</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>maxAge</span><span class=p>:</span><span class=w> </span>-<span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>getresource</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>dir</span><span class=p>:</span><span class=w> </span><span class=p>:</span><span class=l>cacheDir/:project</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>maxAge</span><span class=p>:</span><span class=w> </span>-<span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>images</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>dir</span><span class=p>:</span><span class=w> </span><span class=p>:</span><span class=l>resourceDir/_gen</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>maxAge</span><span class=p>:</span><span class=w> </span>-<span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>modules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>dir</span><span class=p>:</span><span class=w> </span><span class=p>:</span><span class=l>cacheDir/modules</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>maxAge</span><span class=p>:</span><span class=w> </span>-<span class=m>1</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>您可以在自己的 <code>hugo.yaml</code> 中覆盖任何这些缓存设置。</p><h3 id=关键词解释>关键词解释</h3><p><code>:cacheDir</code></p><p>请参阅<a class=link href=https://gohugo.io/getting-started/configuration/#configure-cachedir target=_blank rel=noopener>配置 cacheDir</a>。</p><p><code>:project</code></p><p>当前 Hugo 项目的基本目录名称。这意味着，默认情况下，每个项目都有单独的文件缓存，这意味着当您运行 <code>hugo --gc</code> 时，不会触及其他运行在同一台计算机上的 Hugo 项目相关的文件。</p><p><code>:resourceDir</code></p><p>这是 <code>resourceDir</code> 配置选项的值。</p><p><strong>maxAge</strong></p><p>这是在缓存条目被驱逐之前的持续时间，-1 表示永久保存，0 有效地关闭了特定的缓存。使用 Go 的 <code>time.Duration</code>，所以有效的值是 <code>"10s"</code>（10 秒），<code>"10m"</code>（10 分钟）和 <code>"10h"</code>（10 小时）。</p><p><strong>dir</strong></p><p>缓存文件将存储在其中的绝对路径。允许的起始占位符是 <code>:cacheDir</code> 和 <code>:resourceDir</code>（参见上文）。</p><h2 id=配置格式规范>配置格式规范</h2><ul><li><a class=link href=https://github.com/toml-lang/toml target=_blank rel=noopener>TOML 规范</a></li><li><a class=link href=https://yaml.org/spec/ target=_blank rel=noopener>YAML 规范</a></li><li><a class=link href=https://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf target=_blank rel=noopener>JSON 规范</a></li></ul><h2 id=配置-cachedir>配置 cacheDir</h2><p>这是 Hugo 默认存储文件缓存的目录。详见 <a class=link href=https://gohugo.io/getting-started/configuration/#configure-file-caches target=_blank rel=noopener>配置文件缓存</a>。</p><p>可以使用 <code>cacheDir</code> 配置选项或通过操作系统环境变量 <code>HUGO_CACHEDIR</code> 来设置它。</p><p>如果未设置该选项，Hugo 将按以下优先顺序使用：</p><ol><li>如果在 Netlify 上运行：<code>/opt/build/cache/hugo_cache/</code>。这意味着如果您在 Netlify 上运行构建，所有配置为 <code>:cacheDir</code> 的缓存将在下次构建时保存和恢复。对于其他 CI 供应商，请阅读其文档。有关 CircleCI 的示例，请参见 <a class=link href=https://github.com/bep/hugo-sass-test/blob/6c3960a8f4b90e8938228688bc49bdcdd6b2d99e/.circleci/config.yml target=_blank rel=noopener>此配置</a>。</li><li>在操作系统用户缓存目录下的 <code>hugo_cache</code> 目录，由 Go 的 <a class=link href=https://pkg.go.dev/os#UserCacheDir target=_blank rel=noopener>os.UserCacheDir</a> 定义。在 Unix 系统上，这是 <code>$XDG_CACHE_HOME</code>，由 <a class=link href=https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html target=_blank rel=noopener>basedir-spec-latest</a> 指定，如果非空，则为 <code>$HOME/.cache</code>。在 macOS 上，这是 <code>$HOME/Library/Caches</code>。在 Windows 上，这是 <code>%LocalAppData%</code>。在 Plan 9 上，这是 <code>$home/lib/cache</code>。<a class=link href=https://github.com/gohugoio/hugo/releases/tag/v0.116.0 target=_blank rel=noopener>Hugo v0.116.0 中新增</a></li><li>在操作系统临时目录下的 <code>hugo_cache_$USER</code> 目录。</li></ol><p>如果想知道当前的 <code>cacheDir</code> 值，可以运行 <code>hugo config</code>，例如：<code>hugo config | grep cachedir</code>。</p><h2 id=另请参阅>另请参阅</h2><ul><li><a class=link href=https://gohugo.io/templates/data-templates/ target=_blank rel=noopener>数据模板</a></li><li><a class=link href=https://gohugo.io/content-management/front-matter/ target=_blank rel=noopener>Front matter（前置元数据）</a></li><li><a class=link href=https://gohugo.io/getting-started/configuration-markup/ target=_blank rel=noopener>配置标记</a></li><li><a class=link href=https://gohugo.io/hosting-and-deployment/hosting-on-gitlab/ target=_blank rel=noopener>在 GitLab Pages 上托管</a></li><li><a class=link href=https://gohugo.io/about/hugo-and-gdpr/ target=_blank rel=noopener>Hugo 和《通用数据保护条例》</a></li></ul></section><footer class=article-footer><section class=article-tags><a href=/tags/%E5%8D%9A%E5%AE%A2/>博客</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><script src=https://giscus.app/client.js data-repo=Errant404/errant404.github.io data-repo-id=R_kgDOIpJ1Ig data-category=Announcements data-category-id=DIC_kwDOIpJ1Is4CgXoy data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=en crossorigin=anonymous async></script><script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"light":"dark")}})()</script><footer class=site-footer><section class=copyright>&copy;
2022 -
2024 Errant's Blog.</section><section class=powerby>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 构建<br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.26.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>