[{"content":"因为我的临场写作能力不太行，但是我总觉得有点写这篇文章的必要，所以这篇文章我是从 12 月份初就开始动笔来写了，平时有想法就当场动手写下来。\n我做了什么 拥抱 Linux 从去年 12 月末，我算是第一次成功在我的笔记本电脑上安装并运行带有正常网卡驱动的 Linux。由于笔记本硬件型号很新，此前我使用过的 Linux 发行版都不能很好地适配我的硬件。\n直到那天我在上海虹桥站等车，无所事事时，我在惠普论坛上看到有人发帖说，Arch Linux 能在与我相同型号的笔记本上正常工作，并且网卡没有异常。于是我在高铁上兴奋了一路，回到家中就直接开始折腾怎么安装了。\n由于此前折腾 Android 的经验，我对分区、引导这些概念已经有所了解，折腾了两天，总算是安装上了。后来我也几乎就定居在了 Arch Linux，告别了 Windows 那抽象的资源占用、异常的显示画面和一睡就醒不来的休眠。\n拥有自己的服务器和域名 出于自己对更多服务的需求，我在双 11 期间购买了一台 VPS，黑色星期五期间购买了一个域名，前前后后搭建了不少自用的服务，比如说 RSS 订阅服务器、Alist 等等。\n我看到了什么 最初的最初，我只是对折腾 Android 感兴趣，也没学过编程，但是以此为机缘，接触并了解了许多开源项目（Magisk, LSPosed, KernelSU），也认识了很多优秀的开发者（单向认识），其中给我影响最大的是 canyie。\n两年前，大概也是这个时候，我读了她写的年终小结，17 岁中专在读的她便能一人写出 pine 这样的项目，成为众多优秀开源项目的 Contributor，她的优秀给我留下了巨大的震撼。她让我意识到，成为一名优秀的开发者并不是遥不可及的。\n半年以后，我参加了高考，来了这所大学，又过了一年，分流进入计算机学院，即使做好了心理准备，等到自己亲眼见识了，我还是挺失望的，不是因为学院条件，而是因为其他因素。\n这里缺少与我兴趣相投的人，从技术爱好，到艺术品味，我发现我总是与周围的人格格不入，这种感觉在高中以来就有，但是那时还有学习这个共同话题可以缓解。而到了大学，这种感受就变得尤为明显。每一次你做了一件你认为很有成就感或者很有意思的事情时，抬头却发现无人能与你分享快乐，你笑着笑着，自己的心却凉了。我自己也有一部分原因，所以还有一部分失望，是对我自己的。我的情商并不是很高，并不擅长与别人沟通，除非对方讨论的话题正好是我了解或者感兴趣的。所以我和很多人只是能交谈，但是不能交心。\n但是这并不意味着我没有在学校里看到优秀的同学，恰恰相反，我认识了很多优秀的人，他们用行动刷新我那狭隘的认识，告诉我大学生涯是还可以这样过的，校训里的“自强不息”是这样做的。我们学院这样优秀的人并不少，他们或许是低调，也有可能只是在学院的评价指标眼里，他们的取得的优秀成果不如互联网+吧。\n过去的一年里，我还读过很多人的博客，透过博客，我看到的不仅仅是他们分享的技术，还有他们的思想与人格魅力。我至今也忘不了读完某人博客感慨良久的那个深夜。\n迷茫 但是别人的终究的是别人的，与我自己又有何关系？\n我也不是一个脱离低俗趣味的人，更不是一个所谓“纯粹”的人。我好像做不到像其他人找到一件自己发自内心喜欢的工作，就好像我以前做过的所有的事当中，哪怕有快乐的，那也是哭中作乐，因此我并没有发现自己存在的价值。所以我很羡慕那些有理想，更有意志，有规划，有能力去一步一步实现的人。在别人寻找答案的时候，我却还在思考我该用我的生命去回答什么问题。\n你说我活着是为了生存，那倒也不至于，但是我能说我活着是为了追求吗？我已经迷茫了18年，难道还要接着迷茫下去吗？\n高考结束以前，我过的是简单的线性人生，可光是这样简单的人生，最后的结果也是不尽人意。那高考结束后的人生呢？我意识到我已经不在是一位学生了，而是一个人，因此除了学业上的问题，我还得思考并解决我作为一个人的问题。但这些问题本来应该从小开始思考，因为在成为一名学生之前，我首先是一个人。我也依稀记得小时候自己也的确对这些问题作出过思考，但最后想不出，不了了之，然后问题被遗忘，最终被淹没在作业中。\n而这个问题持续到了现在，并且接下来的一年里，我还得接着去寻找问题的答案。这个问题拖得越久，由迷茫转换而来的焦虑就越严重，并且无法逃避，只能接受，某种程度上给我带来了不小的精神影响。\n不过迷茫也只是思想上的，这并不妨碍我学习并获取知识，但是自己终究会有一天要亲自面对这个问题，只有找到这个问题的答案，我才有动力去找到并实现我的人生，我才能认为我接下来走的每一步是自己想走的并且是自己能走的路，而不是盲目从众、被家人指点或者被社会逼迫走上的路。\n感想 学习 知识可以轻易获得，但是思想与经验需要时间的积淀。面对成体系的知识，除了系统的学习，还需要陈年累月的实践经验来提高自己对知识的理解掌握和应用能力。\n相比于大学教材的纷繁琐碎、杂乱无章，人民教育出版社的高中物理教材，我认为是我至今见过的所有国内教材中最优秀的，语言描述清晰，内容通俗易懂，甚至展现物理在人文方面的魅力，真的做到了引导学生培养物理思维。等到我高三回头翻阅这本书的时候，经常感叹编者的智慧，书中编者的很多经典的话，我至今也忘不了。我反对那些说学物理对以后工作没用帮助的观点，物理作为一门基础学科，除了满足高考筛选人才的需要，更多地其实是用来培养一个人的科学思维模式，教会一个人如何科学严谨地思考、推导并解决问题，而物理本身只是作为教学过程选用的载体罢了。到了大学，教材里就再也找不到那种亲切和善谦逊而又严谨的感觉了。\n比较可悲的是，当下的教育中并没有人强调这一点，大家似乎只是关心如何拿高分、如何让老师和家长满意、如何通过考试、如何去一个好大学、如何获得高绩点。他们在这样的学习过程中，丢失了原本学习的目的、学习的乐趣和学习的意义。现如今的大家似乎功利性都比较重，但是我觉得如果只是为了在社会上生存而盯着这些，是十分荒谬的一件事。人如果只是为了生存而存在于这个世界上，和其他动物有什么区别，那样活着有什么意思，等着当韭菜别被别人割吗？\n信息 我认为我们其实生活在一个信息相对越来越匮乏的时代。随着信息技术的爆炸式发展，世界上生产并存储下来的信息越来越多，看起来好像我们可获取的信息越来越多了，生活学习越来越方便了，但是事实并不是这样。\n由于信息垄断的存在，我们所能获得的有价值的信息占这个世界生产的中信息比例越来越小了。我们获取信息的确越来越多，但是不论是信息量还是信息质量，与那些被限制访问的信息相比，我们普通人能获取的信息都差得太多了。而这种信息差的存在拉开了人与人之间距离，影响的已经不仅仅是所谓的见识，更是思想。\n而信息量大还导致我们寻找到正确信息变得越来越困难，增加了寻找正确信息的难度和时间（说的就是你 CSDN）。此外由于信息整体质量的下滑，习惯网络娱乐文化的我们接受高质量信息的能力也开始下降，许多人现在甚至无法静下心来读一本书。\n信息爆炸并没有带来福音，更别提还有简中互联网这种东西的存在。\n生活 “人生不如一句波特莱尔。”芥川的这句话道尽了他在人间的万般感受。\n过去一年也算经历了一些事，但我不论抱着怎样的想法和感受，总会和这句话产生共鸣，就把这句话当作年终小结的标题好了。\n目标与愿望 新的一年最好还是给自己列几个目标，这里列一个 To-Do List 等到 2024 年终小结时过来结算\n小目标 读三本名著 不当夜猫子（可选） 按时起床 自我积淀，锻炼出扎实的计算机学科内功 大目标 养成用代码解决日常生活中问题的习惯 养成专注的习惯 结识更多的同好，如果能找到另一半就更好了 拥有能拿得出手的小开源项目（哪怕是个玩具也行啊，可选） 享受实现上述目标过程中的每一步 愿望 学习生活过得充实、快乐、优雅 成为一个更加完善的人 ","date":"2023-12-31T23:54:24+08:00","image":"https://blog.errant.top/post/2023-end-of-year-summary/after%20a%20bath-65204496-0_hu853cbd8fcdb08512937eb9b5092fc6ad_1792600_120x120_fill_box_smart1_3.png","permalink":"https://blog.errant.top/post/2023-end-of-year-summary/","title":"人生不如一句波特莱尔 - 2023 年终小结"},{"content":" 在我阅读过的文学作品中，我尤其钟爱芥川的短篇小说，芥川的一篇小说往往禁得住数十次的阅读。而在《罗生门》的众多译本中，我尤其钟爱高勤慧老师的译本，读起来有股质朴之感，本文《竹林中》是黑泽明导演的惊世伟作电影《罗生门》的原作，感兴趣的同学也可以去找电影看看。\n以下文段引自《罗生门》（高勤慧译）译者序：\n芥川舍弃了原作《今昔物语》中抽象的说教，能匠心独运，推陈出新，从中抉发古今人类天性中缺憾的一面，写成一篇寓意深刻的哲理短章。在表现这一类主题的作品中，如以内容的丰富、寓意的深刻、手法的别致、技巧的完美而论，当推《竹林中》一篇：\n竹林中发生一起凶杀案，有个年轻武士被杀，美貌的妻子遭到大盗的凌辱。可是大盗与妻子各执一词，都自供是凶手。而死者亡灵借灵媒之口却说是自杀身亡。那么究竟谁是凶手呢？小说没有结论。整篇作品由七人的口供组成，从各自的角度提供不同的说法，案情扑朔迷离，疑团重重，悬念始终未予解决。七段口供，以三个当事人的最为关键，其中必有人将真情隐去，补以谎话，或每人的话里都有真有假，真假参半。那么，何以要说谎呢？可见，每人心里都有不可告人的隐衷。\n作者的用意似乎想说明：人常要用谎言来文过饰非，真相常被歪曲隐没，以致事物真相不可认识。芥川在小说中，暗喻人心微妙，难以捉摸，表现一种怀疑主义情绪，他自称“一向是个怀疑派”。（《河童》十五）小说故意留下空白，耐人寻味。写的虽是一桩情杀案，却不是通俗的破案小说，而是通过这个没有结论的案子，引导读者去探求人性的弱点，深意自见。芥川在探讨人生、考察人性的过程中，发现了人世间的丑恶。“周围尽是丑恶。自己也丑恶……面对周围的丑恶，活着就是一种痛苦的事。”（一九一五年二月二十八日致恒藤恭）所以，他不能不感到失望。\n樵夫供词 是呀，发现那具尸体的，正是小的。今儿个早上，小的像往常一样，去后山砍柴，结果在山后的竹林里，看到那具尸体。老爷问在哪儿吗？那地方离山科大路约莫一里来地，是片竹子和小杉树的杂树林，很少有人迹。\n尸身穿一件浅蓝色绸子褂，头上戴了一顶城里人的细纱帽，仰天躺在地上。虽说只挨了一刀，可正好扎在心口，尸体旁的竹叶子全给染红了。不，血已经不流了。伤口好像也干了。而且有只大马蝇死死叮在上面，连我走近都不理会。\n没看见刀子什么的吗？没有，什么都没看见。就是旁边杉树根上，留下一条绳子。后来……对了，除了绳子，还有一把梳子。尸体旁边没别的，就这两样东西。不过，有一片地里，荒草和竹叶给踩得很乱，看样子那男子被杀之前，有过一场恶斗。\n怎么，没有马？——那地方，马压根儿进不去。能走马的路，在竹林外面哪。\n行脚僧供词 贫僧昨日确曾遇见死者。昨天……大约是晌午时分吧。地点是从关山快到山科的路上。他与一个骑马女子同去关山。女子竹笠上遮着面纱，所以贫僧不曾得见她的容貌。只看见那身紫色绸夹衫。马是桃花马……马鬃剃得光光的，不会记错。个头有多高吗？总有四尺多吧……贫僧乃出家之人，这些事情不甚了然。那男子……不，佩着刀，还带着弓箭。特别是黑漆箭筒里，插了二十多支箭，要说这点，贫僧至今还历历在目。\n做梦也想不到，那男子会有如此结局。真可谓人生如朝露，性命似电光。呜呼哀哉，贫僧实无话可说。\n捕快供词 大人问小人捉到的那家伙吗？他确确实实是臭名远扬的大盗多襄丸。小人去抓的时候，他正在粟田石桥上哼呀叫痛，大概是从马上摔下来的缘故。什么时辰吗？是昨晚初更时分。上次逮他的时候，穿的也是这件藏青褂子，佩着这把雕花大刀。不过，这一回，如大人所见，除了刀，还带着弓箭。是吗？被害人也带着刀箭……那么，行凶杀人的，必是多襄丸无疑。皮弓，黑漆箭筒，十七支鹰羽箭矢……这些想必都是被害人的。是的，正如大人所说，马是秃鬃桃花马。那畜生摔他下来，是他报应。马拖着长长的缰绳，在石桥前面不远的地方，啃着路旁的青草。\n这个叫多襄丸的家伙，在出没京畿一带的强盗中，最是好色之徒。去年秋天，鸟部寺宾头卢后山，有个像是去进香的妇人连同丫鬟一起被杀，据说就是这家伙犯的案。这回，这男的若又是他下的毒手，那骑桃花马的小女子，究竟给弄到什么地方去了，把她怎么样了，就不得而知了。也许小人多嘴，还望大人明察。\n老妪供词 是的，死者正是小女的丈夫。他并非京都人士。是若狭国府的武士，名叫金泽武弘，二十六岁。不，他性情温和，不可能惹祸招事的。\n小女吗？闺名真砂，年方十九。倒是刚强好胜，不亚于男子。除了武弘以外，没跟别的男人相好。小小的瓜子脸，肤色微黑，左眼角上有颗痣。\n武弘昨天是同小女一起动身去若狭的。没料到竟出了这样的事，真是造孽哟！女婿死了，认倒霉吧，可小女究竟怎样了？老身实在担心得很。恳求青天大老爷，不论好歹，务必找到小女的下落才好。说来说去，最可恨的便是那个叫什么多襄丸的狗强盗，不但杀了我女婿，连小女也……（余下之词，泣不成声）。\n多襄丸供词 杀那男的，是我；可女的，我没杀。那她去哪儿啦？——我怎么知道！且慢，大老爷。不管再怎么拷问，不知道的事也还是招不出来呀。再说，咱家既然落到这一步，好汉做事好汉当，决不隐瞒什么。\n我是昨天过午，遇见那小两口的。正巧一阵风吹过，掀起竹笠上的面纱，一眼瞟见那小娘儿们的姿容。可一眨眼——就再无缘得见了。八成是这个缘故吧，觉得她美得好似天仙，顿时打定主意，即使要开杀戒，除去她男人，老子也非把她弄到手不可。\n什么？杀个把人，压根儿不像你们想的，算不得一回事。反正得把女人抢到手，那男的就非杀不可。只不过我杀人用的是腰上的大刀，可你们杀人，不用刀，用权，用钱，有时甚至是几句假仁假义的话，就能要人的命。不错，杀人不见血，人也活得挺风光，可总归是凶手哟。要讲罪孽，到底谁个坏，是你们？还是我？鬼才知道！（挖苦地一笑）\n当然，只要能把那小娘儿们抢到手，不杀她男人也没什么。说老实话，按我当时的心思，只想把她弄到手，能不杀那男的，就尽量不杀。可是，在山科大道上，这种事，没法动手。于是，就想法子，把那小两口诱进山里。\n这倒不是什么难事。我跟他们一搭上伴，就瞎编了一套话，说对面山里有座古墓，掘出来一看，竟有许多古镜和宝刀，我不想让人知道，就偷偷埋在后山的竹林里。若是有人要，随便哪件，打算便宜出手。——不知不觉间，男的对我这套话渐渐动了心。这后来嘛——你说怎么着？人的贪心真叫可怕！不出半个时辰，小两口竟掉转马头，跟我上山了。\n到了竹林前，我推说，宝物就埋在里边，进去瞧瞧吧。男的财迷心窍，自然答应。可女的，连马也不肯下，说：我就在这儿等。那竹林子密密匝匝，也难怪她要说这话。老实说，这倒正中咱家下怀。于是便让那小娘儿们留下，我跟她男人一起钻进了林子。\n开头林子里尽是竹子，过去十多丈地，才是一片稀疏的杉树林。—要下手，那地方再合适不过了。我一面拨开竹丛，一面煞有介事地骗他说：宝物就埋在杉树下面。男的信以为真，就朝看得见杉树的地方拼命赶去。不大会儿工夫，便来到竹子稀疏，但有几棵杉树的地方。—说时迟那时快，我一下便把他撂倒在地。还真不愧是个佩刀的武士，力气像是蛮大的哩。可是不意着了我的道儿，他也没辙。我当即把他绑在一棵杉树根上。绳子吗？这正是干我们这行的法宝，说不准什么时候要翻墙越户，随时拴在腰上。当然啦，我用竹叶塞了他一嘴，叫他出不了声。这样，就不用怕什么了。\n对付过男的，回头去找那小娘儿们，谎报她男人好像得了急症，叫她快去看看。不用说，她也中了圈套。便摘下竹笠，由我拽着她的手，拉进竹林深处。到了那里，她一眼就看见了—丈夫给绑在杉树根上。霎时间，她从怀里掏出一把明晃晃的匕首来。老子从来没见过那么烈性的女人。当时要是一个不小心，没准肚子上就会挨一刀。虽说我闪开了身子，可她豁出命来，一阵乱刺，保不住哪儿得挂点彩。不过，老子是多襄丸，何须拔刀，结果还不是将她的匕首打落在地。一个女子再烈性，没了家伙，也就傻了眼了。我终于称心如意，用不着杀那男人，也能把他小媳妇儿弄到手。\n用不着杀她男人—不错，我本来就没打算杀。可是，当我撇下趴在地上嘤嘤啜泣的小娘儿们，正想从竹林里溜之大吉，不料她一把抓住我胳膊，发疯似的缠上身来。只听她断断续续嚷道：不是你强盗死，便是我丈夫亡，你们两个总得死一个。让两个男人看我出丑，比死还难受。接着，她又气喘吁吁地说：你们两个，谁活我就跟谁去。这时，我才对她男人萌生杀机。（阴郁的兴奋）\n听我这么说来，你们必定把我看得比你们还残忍。那是因为你们没看到她的脸庞，尤其没看到那一瞬间，她那对火烧火燎的眼珠子。我盯着她的眼看，心想，就是天打雷劈，也要娶她为妻。我心里只转着这个念头。我绝非你们大人先生所想的，什么无耻下流，淫邪色欲。如果当时仅止于色欲，而无一点向往，我早一脚踢开她，逃之夭夭了，我的刀也不会沾上她男人的血。可是，在幽暗的竹林里，我凝目望着她的脸庞，刹那间，主意已定：不杀她男人，誓不离开此地。\n不过，即便开杀戒，也不愿用卑鄙手段。我松开绑，叫他拿刀跟我一决生死（杉树脚下的绳子，就是那时随手一扔，忘在那里的）。他脸色惨白，拔出那把大刀。一声不吭，一腔怒火，猛地一刀朝我劈来。——决斗的结果，也不必再说了。到第二十三回合，我一刀刺穿他的胸膛。请注意——是第二十三回合！只有这一点，我对他至今还十分佩服。因为跟我交手，能打到二十回合的，普天之下也只他一人啊！\n男人一倒下，我提着鲜血淋漓的大刀，回头去找那小娘儿们。谁知，哪儿都没有。逃到什么地方去啦？我在杉树林里找来找去。地上的竹叶，连一点踪迹都没留下。侧耳听听，只听见她男人临终前在噎气。\n说不定我们打得难分难解之际，她早就溜出竹林搬救兵去了。为自己想，这可是性命攸关的事。当即捡起大刀和弓箭，又回到原来的山路。小娘儿们的马还在那里静静地吃草。后来的事，也就不必多说了。只是进京之前，那把刀，给我卖掉了。——我要招的，便是这些。横竖我脑袋总有一天会悬在狱门前示众的，尽管处我极刑好啦（态度昂然）！\n女人在清水寺忏悔 那个穿藏青褂子的汉子把我糟蹋够了，瞧着我那给捆在一旁的丈夫，又是讥讽又是嘲笑，我丈夫心里该多难受啊。不论他怎么挣扎，绳子却只有越勒越紧的份儿。我不由得连滚带爬，跑到丈夫身边去。不，我是想要跑过去。但是，那汉子却冷不防把我踢倒在地。就在那一刹那，我看见丈夫眼里，闪着无法形容的光芒。我不知该怎样形容好，至今一想起来，都禁不住要打战。他嘴里说不出话，可是他的心思，全在那一瞥的眼神里表达了出来。他那灼灼的目光，既不是愤怒，也不是悲哀——只有对我的轻蔑，真个是冰寒雪冷呀！挨那汉子一脚不算什么，可丈夫的目光，却叫我万万受不了。我不由得惨叫一声，昏了过去。\n过了一会儿，才恢复神志，穿藏青褂子的汉子已不知去向。只留下我丈夫还捆在杉树根上。我从洒满竹叶的地上抬起身子，凝目望着丈夫的面孔。他的眼神同方才一样，丝毫没有改变。依然是那么冰寒雪冷的，轻蔑之中又加上憎恶的神色。那时我的心呀，又羞愧，又悲哀，又气愤，简直不知怎么说才好。我晃晃悠悠地站了起来，走到丈夫跟前。\n“官人！事情已然如此，我是没法再跟你一起过了。狠狠心，还是死了干净。可是……可是你也得给我死掉！你亲眼看我出丑，我就不能让你再活下去。”\n我好不费劲才说出这番话来。但是我丈夫仍是不胜憎恶地瞪着我。我的心都快碎了。我克制住自己，去找他的刀。也许叫那强盗拿走了，竹林里不仅没大刀，连弓箭也找不见。幸好那把匕首还在我脚边。我挥动匕首，最后对他说：\n“那么，就把命交给我吧。为妻的随后就来陪你。”\n听了这话，我丈夫动了动嘴。嘴里塞满了落叶，当然听不见一点声音。可我一看，立即明白他的意思。他对我依然不胜轻蔑，只说了一句：杀吧！我丈夫穿的是浅蓝色的绸褂，我懵懵懂懂，朝他胸口猛一刀扎了下去。\n这时，我大概又晕了过去。等到回过气来，向四处望了望，丈夫还绑在那里，早已断了气。一缕夕阳，透过杉竹的隙缝，射在他惨白的脸上。我忍气吞声，松开尸身上的绳子。接下来——接下来，怎么样呢？我真没勇气说出口来。要死，我已没了那份勇气！我想过种种办法，拿匕首往脖子上抹，在山脚下投湖，试试都没死成。这么苟活人世，实在没脸见人。（惨然一笑。）我这不争气的女人，恐怕连大慈大悲的观音菩萨都不肯度化的。我这个杀夫的女人呀，我这个强盗糟蹋过的女人呀，究竟怎么办才好啊！我究竟，我……（突然痛哭不已）。\n亡灵借巫女之口所作供词强盗 将我妻子凌辱过后，坐在那里花言巧语，对她百般宽慰。我自然没法开口，身子还绑在杉树根上。可是，我一再向妻子以目示意：“千万别听他的，他说的全是谎话。”可她只管失神落魄，坐在落叶上望着膝头，一动也不动。那样子，分明对强盗的话，听得入了迷。我不禁妒火中烧。而强盗还在甜言蜜语，滔滔不绝：“你既失了身，和你丈夫，恐怕破镜就难圆了。与其跟他过那种日子，不如索性当我老婆，怎么样？咱家真正是爱煞你这俏冤家，才胆大包天，做出这种荒唐事儿。”——这狗强盗居然连这种话都不怕说出口。\n听强盗这样一说，我妻子抬起她那张神迷意荡的面孔！我从来没见过妻有这样美丽。然而，我这娇美的妻子当着我——她那给人五花大绑的丈夫的面，是怎样回答强盗的呢？尽管我现在已魂归幽冥，可是一想起她的答话，仍不禁怒火中烧。她确是这样说的：“好吧，随你带我去哪儿都成。”（沉默有顷）\n妻的罪孽何止于此。否则在这幽冥界，我也不至于这样痛苦了。她如梦如痴，让强盗拉着她手，正要走出竹林，猛一变脸，指着杉树下的我，说：“把他杀掉！有他活着，我就不能跟你。”她发狂似的连连喊着：“杀掉他！”这话好似一阵狂风，即便此刻也能将我一头刮进黑暗的深渊。这样可憎的话，有谁说得出？这样可诅咒的要求，又有谁听到过？哪怕就一次……（突然冷笑起来）连那个强盗听了，也不免大惊失色。妻拉住强盗的胳膊，一面喊着：“杀掉他！”强盗一声不响，望着她，没有说杀，也没有说不杀……就在这一念之间，他一脚将妻踢倒在落叶上。（又是一阵冷笑）抱着胳膊，镇静地望着我，说道：“这贱货，你打算怎么办？杀掉吗？还是放过她？回答呀，你只管点点头就行。杀掉？”—就凭这一句话，我已愿意饶恕强盗的罪孽。（又沉默良久）\n趁我还在游移之际，妻大叫一声，随即逃向竹林深处。强盗立刻追了过去，似乎连她衣袖都没抓着。我像做梦似的，望着这一情景。妻逃走后，强盗捡起大刀和弓箭，将我身上的绳子割了一刀。“这回该咱家溜之大吉了。”——记得他的身影隐没在竹林外时，这样自语。然后，四周是一片沉寂。不时有一阵呜咽之声。我一面松开绳子，一面侧耳谛听。原来呜呜咽咽的，竟是我自家呀。（第三次长久沉默）\n我疲惫不堪，好不容易才从杉树下站起身子。在我面前，妻掉下的那把匕首，正闪闪发亮。我捡起来，一刀刺进了胸膛，嘴里涌进一股血腥味，可是没有一丝儿痛苦。胸口渐渐发凉，四周也越发沉寂。啊，好静呀！山林的上空，连只小鸟都不肯飞来鸣啭。那杉竹的梢头，唯有一抹寂寂的夕阳。可是，夕阳也慢慢黯淡了下来。看不见杉，也看不见竹。我倒在地上，沉沉的静寂将我紧紧地包围。\n这时，有人蹑足悄悄走近我身旁，我想看看是谁。然而，周围已暝色四合。是谁……谁的一只我看不见的手，轻轻拔去我胸口上的匕首。同时，我嘴里又是一阵血潮喷涌。从此，我永远沉沦在黑暗幽冥之中……\n大正十年（1921）十二月\n","date":"2023-08-18T22:44:41+08:00","image":"https://blog.errant.top/post/in-a-grove/Rashomon_hu94ed8a9b7454f0f61b997fd6d7be91a2_1019705_120x120_fill_box_smart1_3.png","permalink":"https://blog.errant.top/post/in-a-grove/","title":"竹林中"},{"content":"本文为 Hugo 官方文档中 configuration 部分的翻译，翻译时间为 2023/8/4，此时 Hugo 最新的 Release 版本为 v0.116.1，请注意文档的时效性。\n关于配置文件 Hugo 使用 hugo.toml, hugo.yaml，或者是 hugo.json（如果在根目录下被发现的话）作为默认的站点配置文件。\n用户可以选择使用命令行选项--config用一个或多个站点配置文件覆盖该默认值。\n例如：\n1 2 hugo --config debugconfig.toml hugo --config a.toml,b.toml,c.toml 多个站点配置文件可以作为逗号分隔的字符串指定给 --config 选项。\nhugo.toml vs config.toml 在 Hugo 0.110.0 版本中，我们将默认的配置基本文件名更改为hugo，例如hugo.toml。我们仍然会查找config.toml等文件，但我们建议您最终将其重命名（但如果您想支持旧版本的 Hugo，则需要等待）。我们这样做的主要原因是让代码编辑器和构建工具更容易识别它作为 Hugo 配置文件和项目的标识。\n配置目录 除了使用单个站点配置文件外，您还可以使用configDir目录（默认为config/）来更轻松地组织和管理环境特定的设置。\n每个文件代表一个配置的根对象，例如params.toml用于[Params]，menu(s).toml用于[Menu]，languages.toml用于[Languages]等等\u0026hellip;\n每个文件的内容必须是顶级的，例如：\nhugo.yaml:\n1 2 Params: foo: bar params.yaml:\n1 foo: bar 每个目录保存了一组文件，其中包含特定于某个环境的设置。\n文件可以进行本地化，以便成为特定语言的配置文件。\n1 2 3 4 5 6 7 8 9 10 11 12 13 ├── config │ ├── _default │ │ ├── hugo.toml │ │ ├── languages.toml │ │ ├── menus.en.toml │ │ ├── menus.zh.toml │ │ └── params.toml │ ├── production │ │ ├── hugo.toml │ │ └── params.toml │ └── staging │ ├── hugo.toml │ └── params.toml 考虑上面的结构，在运行hugo --environment staging命令时，Hugo 会使用config/_default目录下的所有设置，并将staging目录的设置合并在其之上。\n我们通过一个例子来更好地理解。假设您正在为您的网站使用 Google Analytics。这需要在hugo.toml文件中指定googleAnalytics = \u0026quot;G-XXXXXXXX\u0026quot;。现在考虑以下情况：\n您不希望在开发环境，即localhost中加载 Analytics 代码。 您想要为生产和演示环境使用不同的 Google Analytics ID，例如： 生产环境使用G-PPPPPPPP 演示环境使用G-SSSSSSSS 根据上述情况，您需要配置您的hugo.toml文件如下：\n在_default/hugo.toml中，您根本不需要提及googleAnalytics参数。这确保在开发服务器上运行hugo server时不会加载任何 Google Analytics 代码。这有效是因为，默认情况下，当您运行hugo server时，Hugo 会将Environment=development，这将使用_default文件夹中的配置文件。\n在production/hugo.toml中，您只需要一行：\ngoogleAnalytics = \u0026quot;G-PPPPPPPP\u0026quot;\n您无需在此配置文件中再次提及所有其他参数，如title、baseURL、theme等等。您只需要提及与生产环境不同或新的参数。这是因为 Hugo 将把这个配置与_default/hugo.toml进行合并。现在，当您运行hugo（构建命令）时，默认情况下 Hugo 会将Environment=production，因此生产网站中将包含G-PPPPPPPP的 Analytics 代码。\n类似地，在staging/hugo.toml中，您只需要一行：\ngoogleAnalytics = \u0026quot;G-SSSSSSSS\u0026quot;\n现在您需要告诉 Hugo 您正在使用演示环境。因此，您的构建命令应为hugo --environment staging，这将在您的演示网站中加载G-SSSSSSSS的Analytics代码。\n当使用hugo server时，默认环境为development，当使用hugo命令时，默认环境为production。\n合并主题配置 _merge配置项可以有以下值：\nnone\n不进行合并。\nshallow\n只添加新键的值。\ndeep\n添加新键的值，并合并现有的值。\n请注意，您不需要像下面的默认设置那样冗长；如果未设置，较高层级的_merge值将被继承。\nhugo.yaml：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 build: _merge: none caches: _merge: none cascade: _merge: none frontmatter: _merge: none imaging: _merge: none languages: _merge: none en: _merge: none menus: _merge: shallow params: _merge: deep markup: _merge: none mediatypes: _merge: shallow menus: _merge: shallow minify: _merge: none module: _merge: none outputformats: _merge: shallow params: _merge: deep permalinks: _merge: none privacy: _merge: none related: _merge: none security: _merge: none sitemap: _merge: none taxonomies: _merge: none 所有的配置项设置 以下是Hugo定义的变量的完整列表。用户可以选择覆盖其站点配置文件中的这些值。\narchetypeDir 默认值： \u0026ldquo;archetypes\u0026rdquo;\nHugo 查找原型文件（内容模板）的目录。还可以参考模块挂载配置，以另一种方式配置这个目录（从 Hugo 0.56 版本开始）。\nassetDir 默认值： \u0026ldquo;assets\u0026rdquo;\nHugo 查找用于Hugo Pipes 的资源文件的目录。还可以参考模块挂载配置，以另一种方式配置这个目录（从 Hugo 0.56 版本开始）。\nbaseURL 您发布的站点的绝对 URL（包括协议、主机、路径和斜杠），例如 https://www.example.org/docs/。\nbuild 参见配置构建。\nbuildDrafts (false) 默认值： false\n构建时是否包含草稿。\nbuildExpired 默认值： false\n是否包含已过期的内容。\nbuildFuture 默认值： false\n是否包含发布日期在未来的内容。\ncaches 参见配置文件缓存。\ncascade 将默认配置值（前置元数据）传递给内容树中的页面。站点配置中的选项与页面前置元数据中的选项相同，请参阅前置元数据级联。\ncanonifyURLs 默认值： false\n启用后，将相对 URL 转换为绝对 URL。\ncleanDestinationDir 默认值： false\n构建时，删除目标中在静态目录中找不到的文件。\ncontentDir 默认值： \u0026ldquo;content\u0026rdquo;\nHugo 读取内容文件的目录。还可以参考模块挂载配置，以另一种方式配置这个目录（从 Hugo 0.56 版本开始）。\ncopyright 默认值： \u0026quot;\u0026quot;\n版权声明，通常显示在网站的页脚。\ndataDir 默认值： \u0026ldquo;data\u0026rdquo;\nHugo 读取数据文件的目录。还可以参考模块挂载配置，以另一种方式配置这个目录（从 Hugo 0.56 版本开始）。\ndefaultContentLanguage 默认值： \u0026ldquo;en\u0026rdquo;\n没有语言标识的内容将默认使用此语言。\ndefaultContentLanguageInSubdir 默认值： false\n在子目录中呈现默认内容语言，例如 content/en/。网站根目录 / 将重定向到 /en/。\ndisableAliases 默认值： false\n禁用别名重定向的生成。请注意，即使设置了 disableAliases，别名本身仍将保留在页面中。使用此选项可以在 .htaccess、Netlify 的 _redirects 文件或类似的情况下生成 301 重定向。\ndisableHugoGeneratorInject 默认值： false\nHugo 默认情况下会在首页的 HTML 头部插入生成器元标签。您可以关闭它，但我们真的希望您不要这样做，因为这是观察 Hugo 的受欢迎程度的好方法。\ndisableKinds 默认值： []\n启用对指定的 Kinds 的所有页面进行禁用。允许在此列表中使用的值有：\u0026ldquo;page\u0026rdquo;、\u0026ldquo;home\u0026rdquo;、\u0026ldquo;section\u0026rdquo;、\u0026ldquo;taxonomy\u0026rdquo;、\u0026ldquo;term\u0026rdquo;、\u0026ldquo;RSS\u0026rdquo;、\u0026ldquo;sitemap\u0026rdquo;、\u0026ldquo;robotsTXT\u0026rdquo;、\u0026ldquo;404\u0026rdquo;。\ndisableLiveReload 默认值： false\n禁用浏览器窗口的自动实时重新加载。\ndisablePathToLower 默认值： false\n不要将 URL/路径转换为小写。\nenableEmoji 默认值： false\n为页面内容启用 Emoji 表情符号支持；参见Emoji 表情符号秘笈。\nenableGitInfo 默认值： false\n为每个页面启用 .GitInfo 对象（如果 Hugo 站点已通过 Git 进行版本控制）。这将使用内容文件的最后一次 git 提交日期更新每个页面的 Lastmod 参数。\nenableInlineShortcodes 默认值： false\n启用行内短代码支持。参见行内短代码。\nenableMissingTranslationPlaceholders 默认值： false\n如果翻译缺失，显示一个占位符，而不是默认值或空字符串。\nenableRobotsTXT 默认值： false\n启用 robots.txt 文件的生成。\nfrontmatter 参见前置元数据配置。\ngoogleAnalytics 默认值： \u0026quot;\u0026quot;\nGoogle Analytics 跟踪 ID。\nhasCJKLanguage 默认值： false\n如果为 true，则自动检测内容中的中文/日文/韩文语言。这将使 .Summary 和 .WordCount 对于 CJK 语言正确地工作。\nimaging 参见图像处理配置。\nlanguageCode 默认值： \u0026quot;\u0026quot;\n由RFC 5646 定义的语言标签。此值用于填充：\n内部RSS 模板 中的 \u0026lt;language\u0026gt; 元素。 内部别名模板 中 \u0026lt;html\u0026gt; 元素的 lang 属性。 languages 参见配置语言。\ndisableLanguages 参见禁用语言。\nmarkup 参见配置标记。\nmediaTypes 参见配置媒体类型。\nmenus 参见菜单。\nminify 参见配置压缩。\nmodule 模块配置参见模块配置。\nnewContentEditor 默认值： \u0026quot;\u0026quot;\n创建新内容时使用的编辑器。\nnoChmod 默认值： false\n不同步文件的权限模式。\nnoTimes 默认值： false\n不同步文件的修改时间。\noutputFormats 参见配置输出格式。\npaginate 默认值： 10\n默认的分页每页元素数目，参见分页。\npaginatePath 默认值： \u0026ldquo;page\u0026rdquo;\n用于分页的路径元素（https://example.com/page/2）。\npermalinks 参见内容管理。\npluralizeListTitles 默认值： true\n在列表中使用复数形式的标题。\npublishDir 默认值： \u0026ldquo;public\u0026rdquo;\nHugo 将写入最终静态站点的目录（包含 HTML 文件等）。\nrelated 参见相关内容。\nrelativeURLs 默认值： false\n启用后，所有相对 URL 将相对于内容根目录。请注意，这不影响绝对 URL。\nrefLinksErrorLevel 默认值： \u0026ldquo;ERROR\u0026rdquo;\n使用 ref 或 relref 解析页面链接时，如果无法解析链接，将使用此日志级别记录。有效值为 ERROR（默认值）或 WARNING。任何 ERROR 都会导致构建失败（exit -1）。\nrefLinksNotFoundURL 用于在 ref 或 relref 中找不到页面引用时使用的占位符 URL。使用原样。\nremovePathAccents 默认值： false\n从内容路径中的组合字符中删除非间隔标记。\n1 content/post/hügó.md --\u0026gt; https://example.org/post/hugo/ rssLimit 默认值： -1（无限制）\nRSS 订阅中的最大项数。\nsectionPagesMenu 参见菜单。\nsecurity 参见安全策略。\nsitemap 默认的站点地图配置。\nsummaryLength 默认值： 70\n.Summary 中显示的文本长度（按照单词计算），用于自动摘要拆分。\ntaxonomies 参见配置分类法。\ntheme 参见模块配置 如何导入主题。\nthemesDir 默认值： \u0026ldquo;themes\u0026rdquo;\nHugo 从中读取主题的目录。\ntimeout 默认值： \u0026ldquo;30s\u0026rdquo;\n生成页面内容的超时时间，以持续时间 或秒为单位指定。注意： 这用于递归内容生成的退出。如果您的页面生成缓慢（例如因为它们需要大型图像处理或依赖于远程内容），则可能需要增加此限制。\ntimeZone 时区（或地理位置），例如 Europe/Oslo，用于解析没有此类信息的前置元数据日期和time函数。有效值列表可能与系统相关，但应包括 UTC、Local 和IANA 时区数据库 中的任何位置。\ntitle 站点标题。\ntitleCaseStyle 默认值： \u0026ldquo;ap\u0026rdquo;\n参见配置标题大小写。\nuglyURLs 默认值： false\n启用后，URL 将采用 /filename.html 的形式，而不是 /filename/。\nwatch 默认值： false\n监视文件系统的更改，并根据需要重新创建。\n如果您在 *nix 系统上开发您的网站，则以下命令行快捷方式很有用，可以找到配置选项：\n1 2 cd ~/sites/yourhugosite hugo config | grep emoji 输出示例：\n1 enableemoji: true 配置构建 build 配置部分包含全局构建相关的配置选项。\nhugo.yaml:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 build: buildStats: disableClasses: false disableIDs: false disableTags: false enable: false cachebusters: - source: assets/.*\\.(js|ts|jsx|tsx) target: (js|scripts|javascript) - source: assets/.*\\.(css|sass|scss)$ target: (css|styles|scss|sass) - source: (postcss|tailwind)\\.config\\.js target: (css|styles|scss|sass) - source: assets/.*\\.(.*)$ target: $1 noJSConfigInAssets: false useResourceCacheWhen: fallback buildStats 自v0.115.1新增\n当启用时，在项目根目录下创建一个 hugo_stats.json 文件。该文件包含发布站点中每个HTML元素的 class 属性、id 属性和标签的数组。在从您的站点中删除未使用的CSS时，可以使用此文件作为数据源。这个过程也称为剪枝（pruning）、清理（purging）或摇树（tree shaking）。\n通过 disableClasses、disableIDs 和 disableTags 键从 hugo_stats.json 中排除 class 属性、id 属性或标签。\n在v0.115.0及更早版本中，通过将 writeStats 设置为 true 来启用此功能。虽然仍然可用，但 writeStats 键将在将来的版本中被弃用。\n由于CSS清理通常仅限于生产构建，因此将 buildStats 对象放在 config/production 之后。\n为了提高速度，解析发布站点时可能会出现“误报”（例如，不是HTML元素的HTML元素）。这些“误报”很少且无关紧要。\n由于部分服务器构建的性质，新的HTML实体在服务器运行时添加，但旧值在您重新启动服务器或运行常规 hugo 构建之前不会被删除。\ncachebusters 参见配置缓存破坏\nnoJSConfigInAssets 关闭将 jsconfig.json 写入 /assets 文件夹的功能，并映射从运行的 js.Build 导入的内容。此文件旨在帮助代码编辑器（如VS Code）中的智能感知/导航。请注意，如果您不使用 js.Build，则不会写入任何文件。\nuseResourceCacheWhen 何时使用 /resources/_gen 中缓存的资源进行 PostCSS 和 ToCSS。有效值为 never、always 和 fallback。最后一个值意味着如果 PostCSS/扩展版本不可用，则尝试使用缓存。\n配置缓存破坏 自 v0.112.0 版新增\n添加了 build.cachebusters 配置选项，以支持使用 Tailwind 3.x 的 JIT 编译器进行开发，其中 build 配置可能如下所示：\nhugo.yaml:\n1 2 3 4 5 6 7 8 9 10 11 12 build: buildStats: enable: true cachebusters: - source: assets/watching/hugo_stats\\.json target: styles\\.css - source: (postcss|tailwind)\\.config\\.js target: css - source: assets/.*\\.(js|ts|jsx|tsx) target: js - source: assets/.*\\.(.*)$ target: $1 上面的示例中的一些关键点是 writeStats = true，它会在每次构建时将一个 hugo_stats.json 文件与渲染输出中使用的 HTML 类等写入。对此文件的更改将触发 styles.css 文件的重建。您还需要将 hugo_stats.json 添加到 Hugo 的服务器监视器中。有关运行示例，请参见 Hugo Starter Tailwind Basic。\nsource 一个匹配与 Hugo 中的一个虚拟组件目录（通常是 assets/...）相关联的文件的正则表达式。\ntarget 一个匹配资源缓存中应在 source 更改时过期的键的正则表达式。您可以在表达式中使用来自 source 的匹配正则表达式组，例如 $1。\n配置服务器 这仅在运行 hugo server 时相关，它允许在开发过程中设置 HTTP 标头，以便您可以测试内容安全策略等。配置格式与 Netlify 相匹配，但带有稍微更强大的 Glob 匹配：\nhugo.yaml:\n1 2 3 4 5 6 7 8 9 server: headers: - for: /** values: Content-Security-Policy: script-src localhost:1313 Referrer-Policy: strict-origin-when-cross-origin X-Content-Type-Options: nosniff X-Frame-Options: DENY X-XSS-Protection: 1; mode=block 由于这仅适用于“开发”，因此将其放在 development 环境下可能是有意义的：\nconfig/development/server.yaml:\n1 2 3 4 5 6 7 8 headers: - for: /** values: Content-Security-Policy: script-src localhost:1313 Referrer-Policy: strict-origin-when-cross-origin X-Content-Type-Options: nosniff X-Frame-Options: DENY X-XSS-Protection: 1; mode=block 您还可以为服务器指定简单的重定向规则。语法与 Netlify 类似。\n请注意，status 为 200 的情况会触发 URL 重写，这在 SPA（单页面应用程序）情况下是您想要的，例如：\nconfig/development/server.yaml:\n1 2 3 4 5 redirects: - force: false from: /myspa/** status: 200 to: /myspa/ 将 force=true 设置为 true 将使重定向即使路径中存在现有内容也会生效。请注意，在 Hugo 0.76 之前，force 是默认行为，但与 Netlify 的做法保持一致。\n404 服务器错误页面 自 v0.103.0 版新增\n默认情况下，当运行 hugo server 时，Hugo 将使用 404.html 模板渲染所有 404 错误。请注意，如果您已经将一个或多个重定向添加到服务器配置，您需要显式添加 404 重定向，例如：\nconfig/development/server.yaml:\n1 2 3 4 redirects: - from: /** status: 404 to: /404.html 配置标题大小写 将 titleCaseStyle 设置为指定 title 模板函数和 Hugo 中自动生成的章节标题使用的标题样式。\n可以是以下之一：\nap（默认），美联社 (AP) 样式指南中的大写规则。 chicago，芝加哥手册中的规则。 go，Go 语言中的每个单词都大写。 firstupper，将第一个单词的首字母大写。 none，不使用大写。 配置环境变量 HUGO_NUMWORKERMULTIPLIER 可以设置此变量以增加或减少在 Hugo 中并行处理中使用的工作程序数量。如果未设置，将使用逻辑 CPU 的数量。\n配置查找顺序 类似于模板的查找顺序，Hugo 在网站源代码目录的根目录中有一组默认规则来搜索配置文件作为默认行为：\n./hugo.toml ./hugo.yaml ./hugo.json 在配置文件中，您可以指示 Hugo 如何渲染您的网站，控制网站的菜单，并任意定义特定于项目的全局参数。\n示例配置 以下是配置文件的典型示例。嵌套在 params: 下的值将填充 .Site.Params 变量，供模板使用：\nhugo.yaml:\n1 2 3 4 5 6 7 8 9 10 11 12 baseURL: https://yoursite.example.com/ params: AuthorName: Jon Doe GitHubUser: spf13 ListOfFoo: - foo1 - foo2 SidebarRecentLimit: 5 Subtitle: Hugo is Absurdly Fast! permalinks: posts: /:year/:month/:title/ title: My Hugo Site 使用环境变量进行配置 除了上述3个配置选项外，还可以通过操作系统环境变量定义配置键值对。\n例如，以下命令将在类 Unix 系统上有效地设置网站的标题：\n1 $ env HUGO_TITLE=\u0026#34;Some Title\u0026#34; hugo 如果您使用类似 Netlify 的服务部署站点，这非常有用。可以查看 Hugo 文档的 Netlify 配置文件 获取示例。\n名称必须以 HUGO_ 为前缀，并且在设置操作系统环境变量时，配置键必须使用大写。\n要设置配置参数，请将名称以 HUGO_PARAMS_ 为前缀\n如果使用的是蛇形命名法的变量名，则上述方法将不起作用。Hugo通过 HUGO 后的第一个字符来确定分隔符的使用方式。这允许您使用任何允许的分隔符在环境变量中定义变量，例如 HUGOxPARAMSxAPI_KEY=abcdefgh。\nIgnore content and data files when rendering Note: This works, but we recommend you use the newer and more powerful includeFiles and excludeFiles mount options.\nTo exclude specific files from the content, data, and i18n directories when rendering your site, set ignoreFiles to one or more regular expressions to match against the absolute file path.\nTo ignore files ending with .foo or .boo:\nhugo.yaml:\n1 2 3 ignoreFiles: - \\.foo$ - \\.boo$ To ignore a file using the absolute file path:\nhugo.yaml:\n1 2 ignoreFiles: - ^/home/user/project/content/test\\.md$ 配置前置元数据 配置日期 日期在 Hugo 中非常重要，您可以通过向 hugo.toml 添加 frontmatter 部分来配置 Hugo 如何为您的内容页面分配日期。\n默认配置如下：\nhugo.yaml:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 frontmatter: date: - date - publishDate - lastmod expiryDate: - expiryDate lastmod: - :git - lastmod - date - publishDate publishDate: - publishDate - date 例如，如果您的某些内容中有非标准的日期参数，您可以覆盖 date 的设置：\nhugo.yaml:\n1 2 3 4 frontmatter: date: - myDate - :default 其中 :default 是默认设置的快捷方式。上述配置将将 .Date 设置为 myDate 中的日期值（如果存在），如果不存在，则会查找 date、publishDate、lastmod，并选择第一个有效日期。\n在右侧的列表中，以“:”开头的值是具有特殊含义的日期处理程序（见下文）。其他值只是您前置元数据配置中的日期参数的名称（不区分大小写）。还请注意，Hugo 对上述内容有一些内置别名：lastmod =\u0026gt; modified，publishDate =\u0026gt; pubdate，published 和 expiryDate =\u0026gt; unpublishdate。例如，使用 pubDate 作为前置元数据中的日期，在默认情况下，将分配给 .PublishDate。\n特殊的日期处理程序有：\n:fileModTime\n从内容文件的最后修改时间戳中提取日期。\n例如：\nhugo.yaml:\n1 2 3 4 5 frontmatter: lastmod: - lastmod - :fileModTime - :default 上面的配置首先尝试从 lastmod 前置元数据参数中提取 .Lastmod 的值，然后从内容文件的修改时间戳中提取日期。最后，:default 在这里可能不需要，但 Hugo 最终将在 :git、date 和 publishDate 中查找有效日期。\n:filename\n从内容文件的文件名中提取日期。例如，2018-02-22-mypage.md 将提取日期 2018-02-22。另外，如果未设置 slug，将使用 mypage 作为 .Slug 的值。\n例如：\nhugo.yaml:\n1 2 3 4 frontmatter: date: - :filename - :default 上面的配置首先尝试从文件名中提取 .Date 的值，然后将查找前置元数据参数 date、publishDate 和最后是 lastmod。\n:git\n这是该内容文件的最后一次修订的 Git 作者日期。只有在设置了 --enableGitInfo 或在站点配置中设置 enableGitInfo = true 时才会设置这个值。\n配置额外的输出格式 Hugo v0.20 引入了将内容渲染为多种输出格式（例如 JSON、AMP html 或 CSV）的能力。有关如何将这些值添加到 Hugo 项目的配置文件的信息，请参阅输出格式。\n配置压缩 默认配置如下：\nhugo.yaml:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 minify: disableCSS: false disableHTML: false disableJS: false disableJSON: false disableSVG: false disableXML: false minifyOutput: false tdewolff: css: keepCSS2: true precision: 0 html: keepComments: false keepConditionalComments: true keepDefaultAttrVals: true keepDocumentTags: true keepEndTags: true keepQuotes: false keepWhitespace: false js: keepVarNames: false precision: 0 version: 2022 json: keepNumbers: false precision: 0 svg: keepComments: false precision: 0 xml: keepWhitespace: false 配置文件缓存 自 Hugo 0.52 版本开始，您可以配置更多内容，而不仅仅是 cacheDir。以下是默认配置：\nhugo.yaml:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 caches: assets: dir: :resourceDir/_gen maxAge: -1 getcsv: dir: :cacheDir/:project maxAge: -1 getjson: dir: :cacheDir/:project maxAge: -1 getresource: dir: :cacheDir/:project maxAge: -1 images: dir: :resourceDir/_gen maxAge: -1 modules: dir: :cacheDir/modules maxAge: -1 您可以在自己的 hugo.yaml 中覆盖任何这些缓存设置。\n关键词解释 :cacheDir\n请参阅配置 cacheDir。\n:project\n当前 Hugo 项目的基本目录名称。这意味着，默认情况下，每个项目都有单独的文件缓存，这意味着当您运行 hugo --gc 时，不会触及其他运行在同一台计算机上的 Hugo 项目相关的文件。\n:resourceDir\n这是 resourceDir 配置选项的值。\nmaxAge\n这是在缓存条目被驱逐之前的持续时间，-1 表示永久保存，0 有效地关闭了特定的缓存。使用 Go 的 time.Duration，所以有效的值是 \u0026quot;10s\u0026quot;（10 秒），\u0026quot;10m\u0026quot;（10 分钟）和 \u0026quot;10h\u0026quot;（10 小时）。\ndir\n缓存文件将存储在其中的绝对路径。允许的起始占位符是 :cacheDir 和 :resourceDir（参见上文）。\n配置格式规范 TOML 规范 YAML 规范 JSON 规范 配置 cacheDir 这是 Hugo 默认存储文件缓存的目录。详见 配置文件缓存。\n可以使用 cacheDir 配置选项或通过操作系统环境变量 HUGO_CACHEDIR 来设置它。\n如果未设置该选项，Hugo 将按以下优先顺序使用：\n如果在 Netlify 上运行：/opt/build/cache/hugo_cache/。这意味着如果您在 Netlify 上运行构建，所有配置为 :cacheDir 的缓存将在下次构建时保存和恢复。对于其他 CI 供应商，请阅读其文档。有关 CircleCI 的示例，请参见 此配置。 在操作系统用户缓存目录下的 hugo_cache 目录，由 Go 的 os.UserCacheDir 定义。在 Unix 系统上，这是 $XDG_CACHE_HOME，由 basedir-spec-latest 指定，如果非空，则为 $HOME/.cache。在 macOS 上，这是 $HOME/Library/Caches。在 Windows 上，这是 %LocalAppData%。在 Plan 9 上，这是 $home/lib/cache。Hugo v0.116.0 中新增 在操作系统临时目录下的 hugo_cache_$USER 目录。 如果想知道当前的 cacheDir 值，可以运行 hugo config，例如：hugo config | grep cachedir。\n另请参阅 数据模板 Front matter（前置元数据） 配置标记 在 GitLab Pages 上托管 Hugo 和《通用数据保护条例》 ","date":"2023-08-04T21:11:59+08:00","image":"https://blog.errant.top/post/configure-your-hugo/hugo-original-wordmark.svg","permalink":"https://blog.errant.top/post/configure-your-hugo/","title":"配置你的 Hugo"}]